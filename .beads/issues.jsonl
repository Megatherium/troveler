{"id":"troveler-099","title":"[CHORE] Create linter config","description":"Based on the code base generate a config for `golangci-lint` that has appropriate linters enabled and otherwise sensible parameters\n## Why is this needed?\nA default config doesn't give us the optimum utility \n## Scope\nWhole codebase\n## Acceptance Criteria\n- [ ] linter config file that your mother would be proud of","status":"closed","priority":3,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T13:52:03.227994754+01:00","created_by":"Megatherium","updated_at":"2026-02-13T14:11:12.08897232+01:00","closed_at":"2026-02-13T14:11:12.08897232+01:00","close_reason":"Created comprehensive golangci-lint v2 configuration (.golangci.yml) with appropriate linters for Go CLI/TUI project. Configuration includes: Core linters (govet, errcheck, staticcheck, unused, ineffassign, unconvert), Advanced checks (gosec, goconst, gocyclo, misspell, unparam), Code quality (revive, errname, errorlint, goheader, lll, makezero, nilerr, noctx, nlreturn, nolintlint, predeclared, rowserrcheck, sqlclosecheck, whitespace). Tuned settings: 5m timeout, 50 max issues per file, Go 1.25.6, tests enabled, smart exclusions for test files, generated code, and build scripts. Successfully tested and detected 8 code quality issues."}
{"id":"troveler-0h9","title":"[FEATURE] Tagging system for tools","description":"To group the tools into meaningful categories (because terminal trove itself only has attributes like licence and language) we are going to introduce tags.\nTags have more flexibility than creating a strict taxonomy\n## Proposed Solution\nWe will add a tag command with add, remove, list and clear subcommands\nTags will be need to added to search: tag keyword, multiples allowed e.g.:\n\"(name=foo\u0026tag=file\u0026tag=ai\u0026!tag=search)\"\nDB schema will need to be adapted (don't worry about the current state, you can drop the db if needed)\nProbably smarter to first implement the ! (not) operator and then the tags.\nWe need to make sure that running `troveler update` does not delete any tags we may have added\nEverything requires tests!!!\n","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T12:08:28.168975362+01:00","created_by":"Megatherium","updated_at":"2026-02-13T12:49:30.438448385+01:00","closed_at":"2026-02-13T12:49:30.438448385+01:00","close_reason":"Split into 5 granular tickets: troveler-2hc (NOT operator), troveler-7ub (schema), troveler-yo9 (tag command), troveler-5r2 (search integration), troveler-8li (update preservation)"}
{"id":"troveler-2hc","title":"Implement NOT (!) operator for search filters","description":"Add support for negating filter expressions in search queries.\n\n## Current State\nSearch supports: field=value, \u0026 (AND), | (OR), parentheses\nNOT supported: ! (negation) operator\n\n## Requirements\n1. Extend filter parser to tokenize ! prefix on terms\n2. Add Not type to Filter AST in db/models.go\n3. Update filter_sql.go to generate NOT / NOT EXISTS clauses\n4. Support both simple (!field=value) and complex (!(a|b)) negations\n\n## Examples\n- !installed=true - show uninstalled tools\n- !language=go - exclude Go tools\n- !(language=go|language=rust) - exclude Go and Rust\n\n## Tests\n- Unit tests for parser\n- Unit tests for SQL generation\n- Integration tests with real search","status":"closed","priority":1,"issue_type":"feature","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T12:48:38.972713743+01:00","created_by":"Megatherium","updated_at":"2026-02-13T13:14:08.485528071+01:00","closed_at":"2026-02-13T13:14:08.485528071+01:00","close_reason":"Implemented NOT operator: added FilterNot type, tokenizer/parser support, SQL generation, installed filter handling, and comprehensive tests"}
{"id":"troveler-2qx","title":"Review: Tags database schema","description":"Review the tags schema implementation for quality, maintainability, and correctness.\n\n## Files Changed\n- db/models.go - Added Tag and TagCount models\n- db/sqlite.go - Added tags/tool_tags tables and 6 DB methods\n- db/tags_test.go - 18 tests for tag operations\n\n## Review Criteria\n- Schema design correctness (foreign keys, indexes, constraints)\n- Error handling completeness\n- Test coverage adequacy\n- Code style consistency with existing codebase","status":"closed","priority":1,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T16:18:27.817987205+01:00","created_by":"Megatherium","updated_at":"2026-02-13T16:23:59.349555601+01:00","closed_at":"2026-02-13T16:23:59.349555601+01:00","close_reason":"Review complete. Refinement ticket troveler-5lq created with 6 findings (1 critical, 2 high, 2 medium, 1 low)."}
{"id":"troveler-30t","title":"Improve tag test coverage","description":"- Tests hardcode \"tool-fzf\" as toolID — use slug-based API instead\\n- Unchecked AddTag errors in setup (lint warnings)\\n- Missing edge cases: spaces in tag names, unicode, case-insensitive dedup, FK cascade behavior\\n- seedTool returns *Tool that's never used (unparam lint)","status":"closed","priority":3,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T16:35:42.003667442+01:00","created_by":"Megatherium","updated_at":"2026-02-13T18:28:25.227879021+01:00","closed_at":"2026-02-13T18:28:25.227879021+01:00","close_reason":"Complete","dependencies":[{"issue_id":"troveler-30t","depends_on_id":"troveler-5t4","type":"blocks","created_at":"2026-02-13T16:36:16.384638382+01:00","created_by":"Megatherium"},{"issue_id":"troveler-30t","depends_on_id":"troveler-riq","type":"blocks","created_at":"2026-02-13T16:36:16.479096594+01:00","created_by":"Megatherium"},{"issue_id":"troveler-30t","depends_on_id":"troveler-k25","type":"blocks","created_at":"2026-02-13T16:36:16.560300705+01:00","created_by":"Megatherium"},{"issue_id":"troveler-30t","depends_on_id":"troveler-ftp","type":"blocks","created_at":"2026-02-13T16:36:16.63651751+01:00","created_by":"Megatherium"},{"issue_id":"troveler-30t","depends_on_id":"troveler-5lq","type":"discovered-from","created_at":"2026-02-13T16:37:11.806981983+01:00","created_by":"Megatherium"},{"issue_id":"troveler-30t","depends_on_id":"troveler-jhw","type":"blocks","created_at":"2026-02-13T18:00:45.844194517+01:00","created_by":"Megatherium"}]}
{"id":"troveler-3hd","title":"Review: Split db/sqlite.go by domain","description":"Refactored db/sqlite.go (548 lines) into 6 domain-specific files:\n\n**File structure:**\n- sqlite.go (45 lines) - Core struct, constructor, Close, getDB() helper\n- sqlite_schema.go (51 lines) - Table creation and migrations\n- sqlite_tools.go (129 lines) - Tool CRUD operations\n- sqlite_search.go (81 lines) - Search functionality\n- sqlite_tags_query.go (130 lines) - Tag query operations\n- sqlite_tags_mutate.go (130 lines) - Tag mutation operations\n\n**Acceptance Criteria verification:**\n✓ Each file \u003c 150 lines\n✓ Clear separation of concerns\n✓ No breaking changes to public API\n✓ All tests still pass (go test ./... PASS)\n✓ Build succeeds (go build ./...)\n\n**Key changes:**\n- Added getDB() helper method for cross-domain *sql.DB access\n- Split tags into query/mutate files to meet line limit\n- All public methods remain on SQLiteDB type\n- Fixed linter issues (nlreturn in sqlite_search.go)\n\n**Public API unchanged:**\n- db.New() - still works\n- All SQLiteDB methods (Search, GetAllTools, GetToolBySlug, etc.) - still work\n- All exported types (Tool, InstallInstruction, etc.) - still work","status":"closed","priority":1,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-14T23:09:33.544095386+01:00","created_by":"Megatherium","updated_at":"2026-02-14T23:13:37.270369636+01:00","closed_at":"2026-02-14T23:13:37.270369636+01:00","close_reason":"Review passed. Score: 8.5/10. Clean domain separation, all acceptance criteria met. Minor note: sqlite_search.go has manual rows.Close() instead of defer for consistency."}
{"id":"troveler-3o4","title":"Review: Fix tag ID generation","description":"Review the schema and code changes for tag ID generation fix. Check: 1) Schema correctness (FK, COLLATE NOCASE), 2) Query correctness in all tag methods, 3) Test coverage, 4) Any edge cases missed.","status":"closed","priority":1,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T16:55:05.047511063+01:00","created_by":"Megatherium","updated_at":"2026-02-13T16:58:44.037236327+01:00","closed_at":"2026-02-13T16:58:44.037236327+01:00","close_reason":"Review complete. Schema correct (name PK, COLLATE NOCASE, FK cascades). All 6 query methods consistent with new schema. No dead references. All 15 tests pass. Two observations filed under existing tickets troveler-5t4 (input normalization) and troveler-riq (API asymmetry)."}
{"id":"troveler-5lq","title":"Refine: Tags schema correctness and API consistency","description":"Review findings from troveler-2qx. All items should be addressed before building CLI commands (troveler-yo9) or tag preservation (troveler-8li).\n\n## Critical: Enable foreign key enforcement\nSQLite does NOT enforce foreign keys by default. `ON DELETE CASCADE` in `tool_tags` is a no-op right now. Add to `New()`:\n```go\ndb.SetMaxOpenConns(1)\ndb.Exec(\"PRAGMA foreign_keys = ON\")\n```\nThis directly affects tag preservation during updates — cascades won't fire without it.\n\n## High: Fix tag ID generation\n`AddTag` builds IDs via `fmt.Sprintf(\"tag-%s\", tagName)` — raw user input in primary keys. Breaks with spaces, unicode, mixed case. Normalize input (`strings.ToLower(strings.TrimSpace(tagName))`) and either:\n- (A) Drop `tags.id`, key by `name TEXT PRIMARY KEY COLLATE NOCASE`, or\n- (B) Keep `id` but generate opaque IDs (hash/random), keep `name UNIQUE COLLATE NOCASE`\n\nOption A is simplest since `name` is already UNIQUE and all lookups use it.\n\n## High: Fix API asymmetry (slug vs toolID)\n- `AddTag/RemoveTag/ClearTags` accept **slug**\n- `GetTags` accepts **toolID**\n\nThis leaks internals — callers (and tests) must know ID construction. Add `GetTagsBySlug(slug)` or change `GetTags` to accept slug. All tag APIs should use the same key.\n\n## Medium: Prune orphaned tags\n`RemoveTag` and `ClearTags` delete from `tool_tags` but leave the `tags` row. `GetAllTags` will surface dead tags with count=0. Either:\n- Prune after unlink: `DELETE FROM tags WHERE id NOT IN (SELECT DISTINCT tag_id FROM tool_tags)`\n- Or document it as intentional (global vocabulary)\n\n## Medium: Validate/normalize tag names on input\nNo trimming or normalization — `\"cli\"`, `\" cli \"`, `\"CLI\"` become 3 separate tags. Add `strings.ToLower(strings.TrimSpace(...))` + empty check at the top of `AddTag`.\n\n## Low: Test improvements\n- Tests hardcode `\"tool-fzf\"` as toolID — use slug-based API instead\n- Unchecked `AddTag` errors in setup (lint warnings)\n- Missing edge cases: spaces in tag names, unicode, case-insensitive dedup, FK cascade behavior\n- `seedTool` returns `*Tool` that's never used (unparam lint)","status":"closed","priority":1,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T16:23:54.686103095+01:00","created_by":"Megatherium","updated_at":"2026-02-13T16:37:19.279981942+01:00","closed_at":"2026-02-13T16:37:19.279981942+01:00","close_reason":"Split into 6 separate tickets with proper dependencies","dependencies":[{"issue_id":"troveler-5lq","depends_on_id":"troveler-2qx","type":"discovered-from","created_at":"2026-02-13T16:23:54.688116812+01:00","created_by":"Megatherium"}]}
{"id":"troveler-5m9","title":"Fix misc linter: lll, sqlclosecheck, staticcheck","description":"lll: 3 long lines in crawler/parser_test.go. sqlclosecheck: 1 issue in db/sqlite.go. staticcheck: 2 issues (SA4011 ineffective break in commands/update.go, SA1019 deprecated cobra.ExactValidArgs in main.go)","status":"open","priority":3,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T23:15:28.556821278+01:00","created_by":"Megatherium","updated_at":"2026-02-13T23:15:28.556821278+01:00"}
{"id":"troveler-5r2","title":"Add tag= filter to search queries","description":"Enable searching tools by their tags using tag= filter syntax.\n\n## Requirements\n1. Extend filter parser to recognize tag= as valid field\n2. Update filter_sql.go to JOIN tool_tags table\n3. Support multiple tags with AND/OR: tag=cli\u0026tag=fuzzy\n4. Support negation: !tag=experimental\n\n## Examples\n```troveler search tag=cli\ntroveler search \"tag=cli\u0026tag=fuzzy\"\ntroveler search \"(tag=cli|tag=tui)\u0026!tag=experimental\"\ntroveler search \"language=go\u0026tag=ai\"\n```\n\n## Implementation Notes\n- JOIN with tool_tags and tags tables\n- Handle NOT tag with LEFT JOIN / NOT EXISTS\n- Support combining tag filters with existing fields\n\n## Depends On\n- NOT operator ticket (for !tag= support)\n- Tags schema ticket (for DB structure)\n- Tag command ticket (for test data)\n\n## Tests\n- Parser tests for tag= syntax\n- SQL generation tests\n- Integration tests with tagged tools","status":"closed","priority":2,"issue_type":"feature","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T12:48:58.56287574+01:00","created_by":"Megatherium","updated_at":"2026-02-13T21:16:35.240483759+01:00","closed_at":"2026-02-13T21:16:35.240483759+01:00","close_reason":"Implemented tag= filter with EXISTS subquery, all tests pass","dependencies":[{"issue_id":"troveler-5r2","depends_on_id":"troveler-2hc","type":"blocks","created_at":"2026-02-13T12:49:19.44150437+01:00","created_by":"Megatherium"},{"issue_id":"troveler-5r2","depends_on_id":"troveler-7ub","type":"blocks","created_at":"2026-02-13T12:49:19.526192389+01:00","created_by":"Megatherium"},{"issue_id":"troveler-5r2","depends_on_id":"troveler-yo9","type":"blocks","created_at":"2026-02-13T12:49:19.602984131+01:00","created_by":"Megatherium"},{"issue_id":"troveler-5r2","depends_on_id":"troveler-pqc","type":"blocks","created_at":"2026-02-13T18:46:41.957845378+01:00","created_by":"Megatherium"},{"issue_id":"troveler-5r2","depends_on_id":"troveler-k0t","type":"blocks","created_at":"2026-02-13T20:57:16.30735746+01:00","created_by":"Megatherium"}]}
{"id":"troveler-5t4","title":"Fix tag ID generation - normalize input","description":"AddTag builds IDs via fmt.Sprintf(\"tag-%s\", tagName) — raw user input in primary keys. Breaks with spaces, unicode, mixed case.\\n\\nNormalize input (strings.ToLower(strings.TrimSpace(tagName))) and either:\\n- (A) Drop tags.id, key by name TEXT PRIMARY KEY COLLATE NOCASE, or\\n- (B) Keep id but generate opaque IDs (hash/random), keep name UNIQUE COLLATE NOCASE\\n\\nOption A is simplest since name is already UNIQUE and all lookups use it.","status":"closed","priority":1,"issue_type":"bug","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T16:35:30.241587635+01:00","created_by":"Megatherium","updated_at":"2026-02-13T17:00:09.975062785+01:00","closed_at":"2026-02-13T17:00:09.975062785+01:00","close_reason":"Schema updated: tags.name is now TEXT PRIMARY KEY COLLATE NOCASE, tool_tags uses tag_name FK. Tag.ID field removed. All tests pass. Review passed.","dependencies":[{"issue_id":"troveler-5t4","depends_on_id":"troveler-q9i","type":"blocks","created_at":"2026-02-13T16:36:16.067753647+01:00","created_by":"Megatherium"},{"issue_id":"troveler-5t4","depends_on_id":"troveler-5lq","type":"discovered-from","created_at":"2026-02-13T16:37:11.507356283+01:00","created_by":"Megatherium"},{"issue_id":"troveler-5t4","depends_on_id":"troveler-3o4","type":"blocks","created_at":"2026-02-13T16:55:13.907824054+01:00","created_by":"Megatherium"}]}
{"id":"troveler-5ys","title":"Add JSON output format","description":"Add (for the search command) an --format option. Valid formats are pretty (default, what were currently emitting) and JSON (all results in an array would be my suggestion)","status":"closed","priority":2,"issue_type":"feature","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-12T00:07:08.12436291+01:00","created_by":"Megatherium","updated_at":"2026-02-12T00:12:14.413619115+01:00","closed_at":"2026-02-12T00:12:14.413619115+01:00","close_reason":"Implemented --format flag for search command with 'pretty' (default) and 'json' options"}
{"id":"troveler-61h","title":"Optimize: Replace bubble sort with sort.Slice","description":"The ToolsPanel uses bubble sort O(n squared) for sorting tools at tui/panels/tools.go lines 178-214.\n\nThis becomes slow with many tools. Should use sort.Slice() from standard library.\n\nAcceptance Criteria:\n- Use sort.Slice() instead of bubble sort\n- Same sorting behavior maintained\n- Performance improvement with more than 100 tools\n- Tests updated if needed\n\nPriority: P1","status":"closed","priority":1,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-14T22:56:40.263260657+01:00","created_by":"Megatherium","updated_at":"2026-02-15T00:53:35.281156417+01:00","closed_at":"2026-02-15T00:53:35.281156417+01:00","close_reason":"Replaced bubble sort with sort.Slice. All tests pass."}
{"id":"troveler-67w","title":"Refinement: Transform eget commands","description":"Issues found in review (troveler-73y):\n\n1. Unnecessary regex in eget transformation (lines 40-46)\n   - Currently uses regex `^eget\\\\s+(.+)$` for simple prefix matching\n   - Should use strings.CutPrefix for consistency with go/cargo patterns\n\n2. Typo/formatting in go install pattern (line 12)\n   - Missing space after `:=`: `if after, ok :=strings.CutPrefix(...)`\n\n3. Missing edge case tests\n   - eget foo (single segment repo)\n   - eget foo/bar/baz (too many segments)\n   - eget foo/bar --version 1.0 (flags after repo)\n\nFixes required:\n- Replace eget regex with strings.CutPrefix + strings.Fields logic\n- Fix typo in line 12\n- Add edge case tests to test coverage","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-11T14:25:47.144024851+01:00","created_by":"Megatherium","updated_at":"2026-02-12T00:03:24.496266626+01:00","closed_at":"2026-02-12T00:03:24.496266626+01:00","close_reason":"Everything works. Reviewed by reinchecn-7lh","dependencies":[{"issue_id":"troveler-67w","depends_on_id":"troveler-73y","type":"discovered-from","created_at":"2026-02-11T14:25:55.825150776+01:00","created_by":"Megatherium"}]}
{"id":"troveler-6xx","title":"[CHORE] Fix linter errors","description":"Through the ages linter errors have accrued (probably because it wasn't explicit enough). \n## Task Description\nFix everthing until golintci-lint is in a Zen state, free of errors.\n## Why is this needed?\nThese small defects can sometimes bite you in the ass\n## Scope\nComplete codebase\n## Acceptance Criteria\n- [ ] `golangci-lint` returns \"0 issues.\"","status":"closed","priority":3,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T13:42:18.703416541+01:00","created_by":"Megatherium","updated_at":"2026-02-13T21:57:35.83374173+01:00","closed_at":"2026-02-13T21:57:35.83374173+01:00","close_reason":"Duplicate tickets - lint issues are pre-existing and not part of current active development"}
{"id":"troveler-73y","title":"Review: Transform eget commands","description":"Review the implementation of eget to mise transformation in internal/install/mise.go. Changes include:\\n- Added eget transformation logic to TransformToMise function\\n- Added 4 test cases covering basic, with github prefix, with extra flags, and with whitespace\\n- All tests pass\\n\\nCheck for:\\n- Code quality and maintainability\\n- Proper regex handling for edge cases\\n- Test coverage adequacy\\n- Following existing patterns in the codebase","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-11T11:04:41.472151031+01:00","created_by":"Megatherium","updated_at":"2026-02-11T14:26:01.991046384+01:00","closed_at":"2026-02-11T14:26:01.991046384+01:00","close_reason":"Review completed - found issues requiring refinement (troveler-67w)"}
{"id":"troveler-7lh","title":"Review: Show virtuals in install command","description":"Review implementation of virtual install instructions and related bug fixes. This review covers changes from tickets: troveler-bdt, troveler-dhg, and troveler-iwv.\n\nChanges include:\n\n**Ticket troveler-bdt: Virtual install instructions generation**\n1. Added GenerateVirtualInstallInstructions() in internal/install/commands.go\n2. Updated showAllInstalls() in commands/install.go to show virtuals\n3. Updated runInfo() in commands/info.go to show virtuals\n4. Updated SetTool() in tui/panels/install.go to show virtuals\n5. Added comprehensive tests in internal/install/install_test.go\n\nKey implementation details:\n- Generates mise: platforms (mise:go, mise:cargo, mise:npm, mise:pipx, mise:github)\n- Handles duplicates (npm/yarn/pnpm → single mise:npm)\n- Skips existing mise:* platforms\n- Returns results in deterministic order\n\n**Ticket troveler-dhg: CLI override priority over mise mode**\n1. commands/install.go: Only force cliOverride='LANG' when mise enabled AND no CLI override provided\n2. tui/panels/install.go: Same fix for TUI panel\n3. Added comprehensive tests in commands/override_test.go\n\nFixed: CLI parameters now have higher priority than config settings.\n\n**Ticket troveler-iwv: Virtual platform override handling**\n1. commands/install.go: Added ResolveVirtualPlatform() to map mise:* → source platform\n2. Updated override logic to resolve virtual platforms before matching\n3. commands/install_test.go: Added tests for virtual platform resolution\n4. tui/panels/install.go: Added resolveVirtualPlatform() method for TUI panel\n\nFixed: -o mise:github, -o mise:go, -o mise:cargo now work correctly.\n\nAll changes:\n- No new linting issues\n- All existing tests pass\n- All new tests added and passing\n\nPlease assess code quality, maintainability, and patterns. Score 0.0-10.0.","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-11T14:54:31.974638238+01:00","created_by":"Megatherium","updated_at":"2026-02-11T15:44:39.480974696+01:00","closed_at":"2026-02-11T15:44:39.480974696+01:00","close_reason":"Review complete - Score 8.5/10. Code quality is solid with comprehensive test coverage. Minor stylistic notes: TUI panel override resolution order differs from CLI version, and TransformToMise has no dedicated tests. However, functional correctness is verified by integration tests. No refinement required."}
{"id":"troveler-7ub","title":"Add tags database schema (many-to-many)","description":"Create database tables for user-curated tool tags.\n\n## Schema Design\n```sql\nCREATE TABLE tags (\n    id TEXT PRIMARY KEY,\n    name TEXT UNIQUE NOT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE TABLE tool_tags (\n    tool_id TEXT REFERENCES tools(id) ON DELETE CASCADE,\n    tag_id TEXT REFERENCES tags(id) ON DELETE CASCADE,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    PRIMARY KEY (tool_id, tag_id)\n);\n\nCREATE INDEX idx_tool_tags_tag_id ON tool_tags(tag_id);\n```\n\n## Implementation\n1. Add tables in db/sqlite.go:createTables()\n2. Add DB methods:\n   - GetTags(toolID) []string\n   - GetAllTags() []Tag (for autocomplete/listing)\n   - AddTag(slug, tagName) error\n   - RemoveTag(slug, tagName) error\n   - ClearTags(slug) error\n   - GetToolsByTag(tagName) []Tool\n\n## Notes\n- Tags are user-curated, NOT scraped from terminaltrove.com\n- Can drop existing DB for clean migration\n- Tests for all DB operations","status":"closed","priority":1,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T12:48:45.158007608+01:00","created_by":"Megatherium","updated_at":"2026-02-13T16:16:27.117209289+01:00","closed_at":"2026-02-13T16:16:27.117209289+01:00","close_reason":"Added tags schema: tags and tool_tags tables, Tag/TagCount models, and DB methods (GetTags, GetAllTags, AddTag, RemoveTag, ClearTags, GetToolsByTag). All tests pass.","dependencies":[{"issue_id":"troveler-7ub","depends_on_id":"troveler-2qx","type":"blocks","created_at":"2026-02-13T16:18:43.00075711+01:00","created_by":"Megatherium"}]}
{"id":"troveler-8li","title":"Preserve user tags during troveler update","description":"Ensure user-curated tags survive database updates from terminaltrove.com.\n\n## Problem\nThe update command upserts tools and may change internal IDs. User tags must be preserved.\n\n## Solution\n1. Before update: snapshot all tool_tags (by slug, since slug is stable)\n2. After upsert: re-apply tags to tools using slug matching\n3. Handle tools that no longer exist in remote (keep orphan tags? or clean up?)\n\n## Implementation\n- Modify commands/update.go to wrap DB writes with tag preservation\n- Store map[slug][]tag before update starts\n- After all tools upserted, re-apply tags\n\n## Edge Cases\n- Tool removed from terminaltrove.com: tags stay in DB (orphan cleanup optional)\n- Slug renamed: tags lost (acceptable, user can re-tag)\n- Tag deleted but tool_tags reference exists: foreign key cascade\n\n## Tests\n- Add tags to tools, run update, verify tags still present\n- Test with tools added/removed from mock data","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T12:49:05.819223889+01:00","created_by":"Megatherium","updated_at":"2026-02-13T17:54:21.750654738+01:00","closed_at":"2026-02-13T17:54:21.750654738+01:00","close_reason":"Implementation complete. Tags are preserved during updates via GetAllTagsBySlug/ReapplyTags pattern. All tests pass.","dependencies":[{"issue_id":"troveler-8li","depends_on_id":"troveler-7ub","type":"blocks","created_at":"2026-02-13T12:49:19.679949108+01:00","created_by":"Megatherium"},{"issue_id":"troveler-8li","depends_on_id":"troveler-5lq","type":"blocks","created_at":"2026-02-13T16:31:52.365752355+01:00","created_by":"Megatherium"},{"issue_id":"troveler-8li","depends_on_id":"troveler-q9i","type":"blocks","created_at":"2026-02-13T16:37:02.445768832+01:00","created_by":"Megatherium"},{"issue_id":"troveler-8li","depends_on_id":"troveler-riq","type":"blocks","created_at":"2026-02-13T16:37:02.527528565+01:00","created_by":"Megatherium"},{"issue_id":"troveler-8li","depends_on_id":"troveler-o39","type":"blocks","created_at":"2026-02-13T17:52:08.60382472+01:00","created_by":"Megatherium"}]}
{"id":"troveler-9xr","title":"[BUG] Too thin TUI crashes","description":"If the TUI has less than 132 columns of width the program will panic (see panic.log)\n## Steps to Reproduce\n1. Start troveler tui with less than 132 columns or reduce the number of columns to lower than 132 when the tui is running\n## Expected Behavior\nGood question. Until we have an idea how to cope (scrollable windows, resized columns, etc) we just need to prevent that our app offs itself by sudoku.","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T01:52:28.634428683+01:00","created_by":"Megatherium","updated_at":"2026-02-13T02:07:20.76044583+01:00","closed_at":"2026-02-13T02:07:20.76044583+01:00","close_reason":"Fixed - TUI now gracefully handles narrow terminals with clear error messages instead of panicking","dependencies":[{"issue_id":"troveler-9xr","depends_on_id":"troveler-nzd","type":"blocks","created_at":"2026-02-13T02:05:44.288127319+01:00","created_by":"Megatherium"}]}
{"id":"troveler-bdt","title":"Show virtuals in install command and prefix them accordingly","description":"Currently we only show what we've parsed from the TT entry in terms of install methods.\nBut we have install platforms/methods that are derived from the original data e.g. mise go:, mise cargo: but now also mise github (from eget)\nThe table in the install command should be a union of parsed and generated commands. The platform names for the mise method are simply mise:$backend, so mise:cargo, mise:npm, mise:pipx (even if we're using uv under the hood) and mise:github (even though it's parsed from eget)\nSplit this ticket if more efficient / necessary","status":"deferred","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-11T14:21:03.234560855+01:00","created_by":"Megatherium","updated_at":"2026-02-13T12:09:40.745242128+01:00","defer_until":"2026-02-17T12:09:40+01:00","dependencies":[{"issue_id":"troveler-bdt","depends_on_id":"troveler-7lh","type":"blocks","created_at":"2026-02-11T14:54:47.935387377+01:00","created_by":"Megatherium"}]}
{"id":"troveler-ctr","title":"Transform eget commands","description":"There are occasions where you encounter no useful installation method but at least an eget command.\nTurns out eget just pulls a release from github. We can do the same thing with mise with the github backend.\neget foo/bar\nis the same as\nmise use --global github:foo/bar\nSo if there's an eget command you can offer a virtual mise command (which is a mise fallback if we don't have a specific language command)","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-11T10:58:12.709443396+01:00","created_by":"Megatherium","updated_at":"2026-02-11T14:29:37.449368498+01:00","closed_at":"2026-02-11T14:29:37.449368498+01:00","close_reason":"Refinement complete - fixed typo, replaced regex with strings.CutPrefix, added edge case tests","dependencies":[{"issue_id":"troveler-ctr","depends_on_id":"troveler-73y","type":"blocks","created_at":"2026-02-11T11:04:48.412169308+01:00","created_by":"Megatherium"}]}
{"id":"troveler-dhg","title":"Fix: CLI override should have higher priority than mise mode","description":"When mise_mode is enabled (from config or --mise flag), the CLI --override flag should still be respected. Currently, if mise mode is on, any -o flag is ignored because cliOverride is forced to 'LANG' before checking the CLI value.\n\nFix: Only force cliOverride='LANG' when mise mode is enabled AND no CLI override was provided by the user. CLI parameters should have higher priority than config settings.","status":"closed","priority":1,"issue_type":"bug","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-11T15:11:31.484614584+01:00","created_by":"Megatherium","updated_at":"2026-02-11T15:18:38.915703808+01:00","closed_at":"2026-02-11T15:18:38.915703808+01:00","close_reason":"Fixed CLI override priority issue. When mise mode is enabled (via --mise flag or config), CLI --override flag now properly overrides the LANG behavior. \n\nChanges:\n- commands/install.go: Only force cliOverride='LANG' when mise enabled AND no CLI override provided\n- tui/panels/install.go: Same fix for TUI panel\n- Added comprehensive tests in commands/override_test.go\n\nCLI parameters now have higher priority than config settings as intended."}
{"id":"troveler-do8","title":"Refactor: Reduce tui/panels/install.go complexity","description":"The tui/panels/install.go has several issues:\n\nCurrent problems:\n- Virtual platform resolution logic scattered\n- Platform selection duplicates logic from internal/install/\n- SetTool() function is 60+ lines\n\nIssues:\n1. resolveVirtualPlatform() duplicates logic\n2. Platform selection should use shared code\n3. mise transformation scattered\n\nAcceptance Criteria:\n- Remove duplicate platform logic\n- Use shared platform package\n- SetTool() under 40 lines\n- All tests pass\n\nDepends on: Consolidate platform logic","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-14T22:57:05.597650463+01:00","created_by":"Megatherium","updated_at":"2026-02-15T01:03:51.173497462+01:00","closed_at":"2026-02-15T01:03:51.173497462+01:00","close_reason":"Completed: SetTool reduced to 28 lines, removed duplicate logic","dependencies":[{"issue_id":"troveler-do8","depends_on_id":"troveler-gh7","type":"blocks","created_at":"2026-02-14T22:57:15.716262814+01:00","created_by":"Megatherium"}]}
{"id":"troveler-dun","title":"Refactor: Simplify db/filter_sql.go","description":"The db/filter_sql.go has BuildWhereClause() function that is 100+ lines.\n\nCurrent issues:\n- Complex SQL generation logic in one function\n- Hard to test individual cases\n- Could benefit from query builder pattern\n\nOptions:\n1. Refactor into smaller functions per filter type\n2. Consider query builder library for complex cases\n\nAcceptance Criteria:\n- Function under 50 lines\n- Clear separation of concerns\n- Easier to test individual filter types\n- No breaking changes\n\nPriority: P2","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-14T22:56:55.972331261+01:00","created_by":"Megatherium","updated_at":"2026-02-15T01:01:41.264866366+01:00","closed_at":"2026-02-15T01:01:41.264866366+01:00","close_reason":"Already resolved - BuildWhereClause is 34 lines, well-structured with extracted helpers: buildFilterSQL, buildFieldFilter, filterByInstalled, hasInstalledFilter, getInstalledFilterInfo. All acceptance criteria met."}
{"id":"troveler-dyg","title":"Fix all golangci-lint issues (0 issues acceptance)","description":"Fix all 154 golangci-lint issues including errcheck, goconst, gocyclo, gofmt, goimports, gosec, ineffassign, lll, nlreturn, noctx, revive, staticcheck, unparam, unused, whitespace. Critical acceptance: golangci-lint run must return 0 issues.","status":"closed","priority":1,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T14:16:39.485558083+01:00","created_by":"Megatherium","updated_at":"2026-02-13T21:57:35.822825515+01:00","closed_at":"2026-02-13T21:57:35.822825515+01:00","close_reason":"Duplicate tickets - lint issues are pre-existing and not part of current active development"}
{"id":"troveler-eby","title":"Refactor: Simplify internal/install/platform.go","description":"The internal/install/platform.go SelectDefaultCommand() is 75 lines getting long.\n\nIssues:\n- Fallback logic is complex and embedded\n- Multiple concerns: exact matching, OS family defaults, preferred platforms\n- Hard to follow the decision tree\n\nProposed changes:\n- Extract fallback logic into separate function\n- Extract preferred platform selection\n- Use lookup tables instead of long if/else chains\n\nAcceptance Criteria:\n- SelectDefaultCommand under 40 lines\n- Extracted helper functions are testable\n- Same behavior maintained\n- All tests pass\n\nPriority: P2","status":"open","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-14T22:56:58.932632436+01:00","created_by":"Megatherium","updated_at":"2026-02-14T22:56:58.932632436+01:00","dependencies":[{"issue_id":"troveler-eby","depends_on_id":"troveler-gh7","type":"blocks","created_at":"2026-02-14T22:57:16.546845196+01:00","created_by":"Megatherium"}]}
{"id":"troveler-fqp","title":"Refactor: Extract worker pool pattern in crawler","description":"The crawler/fetcher.go has duplicated concurrent fetching code.\n\nFunctions FetchSearchPagesConcurrently and FetchDetailsConcurrently are nearly identical.\n\nIssues:\n- Same worker pool pattern duplicated\n- Error handling duplicated\n- Channel management duplicated\n\nSolution: Extract generic worker pool that can fetch anything.\n\nAcceptance Criteria:\n- Generic worker pool extracted\n- Both fetch functions use shared implementation\n- No code duplication\n- Tests still pass\n\nPriority: P2","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-14T22:56:45.859488162+01:00","created_by":"Megatherium","updated_at":"2026-02-15T01:05:21.183782236+01:00","closed_at":"2026-02-15T01:05:21.183782236+01:00","close_reason":"Removed dead code - FetchDetailsConcurrently was never called anywhere. No duplication to refactor since only FetchSearchPagesConcurrently is actually used. Removed 51 lines of dead code."}
{"id":"troveler-ftp","title":"Validate/normalize tag names on input","description":"No trimming or normalization — \"cli\", \" cli \", \"CLI\" become 3 separate tags. Add strings.ToLower(strings.TrimSpace(...)) + empty check at the top of AddTag.","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T16:35:38.481293721+01:00","created_by":"Megatherium","updated_at":"2026-02-13T17:17:28.419014934+01:00","closed_at":"2026-02-13T17:17:28.419014934+01:00","close_reason":"Added normalizeTagName helper with ToLower+TrimSpace+empty check. Applied to AddTag, RemoveTag, GetToolsByTag. Added 8 tests covering empty, whitespace, case variations.","dependencies":[{"issue_id":"troveler-ftp","depends_on_id":"troveler-5t4","type":"blocks","created_at":"2026-02-13T16:36:16.307486071+01:00","created_by":"Megatherium"},{"issue_id":"troveler-ftp","depends_on_id":"troveler-5lq","type":"discovered-from","created_at":"2026-02-13T16:37:11.733420188+01:00","created_by":"Megatherium"}]}
{"id":"troveler-gh7","title":"Refactor: Consolidate platform logic into platform/ package","description":"Platform detection and matching logic is scattered across multiple files:\n\nCurrent locations:\n- lib/platform.go - PlatformAliases, NormalizePlatform, MatchPlatform, MatchLanguage\n- lib/osdetect.go - DetectOS, OSInfo normalization\n- internal/install/platform.go - PlatformSelector\n- internal/install/commands.go - VirtualInstall generation\n\nIssues:\n- Duplicated logic between platform matching and OS detection\n- Hard to find where platform logic lives\n- PlatformSelector duplicates some MatchPlatform logic\n\nProposed structure:\n\n\nAcceptance Criteria:\n- All platform logic in one package\n- No logic duplication\n- Clear public API\n- All tests pass\n- Update all imports\n\nPriority: P1","status":"closed","priority":1,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-14T22:56:34.069350462+01:00","created_by":"Megatherium","updated_at":"2026-02-15T00:41:59.770422044+01:00","closed_at":"2026-02-15T00:41:59.770422044+01:00","close_reason":"Completed: All platform logic consolidated into internal/platform package with clear public API"}
{"id":"troveler-hif","title":"Refactor: Split commands/install.go","description":"The commands/install.go is 545 lines with mixed CLI and TUI logic.\n\nIssues:\n- displayCommands() function is 80+ lines\n- Platform selection logic duplicated with internal/install/\n- Mixed concerns make testing harder\n\nProposed changes:\n- Extract display logic to separate file\n- Remove duplication with internal/install/\n- Separate CLI-specific code from shared logic\n\nAcceptance Criteria:\n- File under 300 lines\n- No logic duplication\n- Clear separation between CLI and shared logic\n- All tests pass\n\nPriority: P2","status":"open","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-14T22:56:48.671358767+01:00","created_by":"Megatherium","updated_at":"2026-02-14T22:56:48.671358767+01:00","dependencies":[{"issue_id":"troveler-hif","depends_on_id":"troveler-gh7","type":"blocks","created_at":"2026-02-14T22:57:17.077579103+01:00","created_by":"Megatherium"}]}
{"id":"troveler-hry","title":"Chore: Split oversized test files","description":"Several test files are too large and hard to navigate:\n\nProblem files:\n- db/tags_test.go - 955 lines\n- commands/override_test.go - 380 lines\n- internal/install/install_test.go - 360 lines\n\nThese should be split by functionality being tested.\n\nExample for tags_test.go:\n- tags_basic_test.go - AddTag, RemoveTag, ClearTags\n- tags_query_test.go - GetTags, GetAllTags, GetToolsByTag\n- tags_persistence_test.go - ReapplyTags\n\nAcceptance Criteria:\n- No test file over 200 lines\n- Tests organized by functionality\n- All tests still pass\n- No test coverage loss\n\nPriority: P3","status":"open","priority":3,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-14T22:57:02.438247039+01:00","created_by":"Megatherium","updated_at":"2026-02-14T22:57:02.438247039+01:00"}
{"id":"troveler-iwv","title":"Fix: Override should handle virtual mise:* platforms","description":"When using --override with virtual platforms like mise:github or mise:go, the command selection fails because it only looks for raw platforms.\n\nVirtual platforms are generated for display but the override matching logic doesn't know how to resolve them back to their source platforms (mise:github → github, mise:go → go).\n\nFix: Add virtual platform resolution in override logic to map mise:* platforms back to their source platforms before matching.","status":"closed","priority":1,"issue_type":"bug","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-11T15:34:14.502202863+01:00","created_by":"Megatherium","updated_at":"2026-02-11T15:40:09.250528514+01:00","closed_at":"2026-02-11T15:40:09.250528514+01:00","close_reason":"Fixed virtual platform override handling. Added ResolveVirtualPlatform() to map mise:* platforms back to their source platforms (mise:github → github, mise:go → go, etc.).\n\nChanges:\n- commands/install.go: Added ResolveVirtualPlatform() and updated override logic\n- commands/install_test.go: Added comprehensive tests for virtual platform resolution\n- tui/panels/install.go: Added resolveVirtualPlatform() method for TUI panel\n\nNow -o mise:github, -o mise:go, -o mise:cargo all work correctly."}
{"id":"troveler-j6l","title":"Fix revive: add comments to exported functions","description":"50 exported functions/types need documentation comments. Files affected: crawler/, pkg/ui/, tui/, tui/panels/, tui/styles/, db/checker.go, db/filter_sql.go, commands/config.go, commands/info.go, commands/tui.go, main.go","status":"open","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T23:15:15.428728213+01:00","created_by":"Megatherium","updated_at":"2026-02-13T23:15:15.428728213+01:00"}
{"id":"troveler-jhw","title":"Review: Improve tag test coverage","status":"closed","priority":3,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T18:00:41.912495587+01:00","created_by":"Megatherium","updated_at":"2026-02-13T18:28:25.241937635+01:00","closed_at":"2026-02-13T18:28:25.241937635+01:00","close_reason":"Complete"}
{"id":"troveler-k0t","title":"Refinement: Add tag= filter to search queries","description":"Fix code quality issues identified during review of tag= filter implementation.\n\n## Defects to Fix\n\n### Lint Violations (MUST FIX)\n1. **db/filter_sql.go:89** - Line too long (124 chars, max 120)\n   - EXISTS subquery line needs formatting break\n   \n2. **db/filter_sql.go:45** - Missing blank line before return\n   - Add newline before \n\n3. **db/sqlite.go** - Unchecked error returns for rows.Close()\n   - Lines 182, 187, 211 need proper error handling\n   - Use defer with named return or explicit check\n\n### Code Quality (SHOULD FIX)\n4. **internal/search/filter.go:249** - //nolint:unparam suppression\n   - Investigate why unparam linter flagged this\n   - Fix underlying issue instead of suppressing\n   - Function: collectSearchTerms()\n\n5. **Test files** - String literals as constants\n   - cli, fuzzy, tag, bat used multiple times\n   - Define as const in test files\n\n### Documentation (SHOULD FIX)\n6. **Missing exported type comments** (revive warnings)\n   - db/models.go: Tool, InstallInstruction, SearchResult, SearchOptions, FilterType, Filter, Tag, TagCount\n   - db/sqlite.go: SQLiteDB, New, UpsertTool, UpsertInstallInstruction, Search, GetAllTools, GetToolBySlug\n\n### Logic Review (INVESTIGATE)\n7. **internal/search/filter.go:242-247** - extractSearchTerm always returns empty string\n   - Function claims to collect search terms but logic only recurses, never collects\n   - Verify this is intentional or implement actual term extraction\n\n## Acceptance Criteria\n- [ ] golangci-lint run on db/ and internal/search/ returns 0 issues\n- [ ] All existing tests still pass\n- [ ] No //nolint suppressions without justification comments","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T20:57:08.536442913+01:00","created_by":"Megatherium","updated_at":"2026-02-13T21:16:33.651151996+01:00","closed_at":"2026-02-13T21:16:33.651151996+01:00","close_reason":"Fixed lint issues: line length, nlreturn, dead code removal, error handling"}
{"id":"troveler-k25","title":"Prune orphaned tags after unlink","description":"RemoveTag and ClearTags delete from tool_tags but leave the tags row. GetAllTags will surface dead tags with count=0.\\n\\nEither:\\n- Prune after unlink: DELETE FROM tags WHERE id NOT IN (SELECT DISTINCT tag_id FROM tool_tags)\\n- Or document it as intentional (global vocabulary)","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T16:35:36.194064804+01:00","created_by":"Megatherium","updated_at":"2026-02-13T17:24:17.738964526+01:00","closed_at":"2026-02-13T17:24:17.738964526+01:00","close_reason":"Added pruneOrphanedTags helper called from RemoveTag and ClearTags after successful deletes. Added 3 tests for pruning behavior.","dependencies":[{"issue_id":"troveler-k25","depends_on_id":"troveler-q9i","type":"blocks","created_at":"2026-02-13T16:36:16.230244734+01:00","created_by":"Megatherium"},{"issue_id":"troveler-k25","depends_on_id":"troveler-5lq","type":"discovered-from","created_at":"2026-02-13T16:37:11.659297942+01:00","created_by":"Megatherium"}]}
{"id":"troveler-kqx","title":"Refactor: Split db/sqlite.go by domain","description":"The db/sqlite.go file is 548 lines with mixed concerns:\n\nCurrent issues:\n- Schema creation mixed with CRUD operations\n- Search functionality mixed with tag operations\n- Tool operations mixed with tag operations\n\nProposed split:\n1. sqlite_schema.go - Table creation and migrations\n2. sqlite_tools.go - Tool CRUD operations\n3. sqlite_tags.go - Tag operations (AddTag, RemoveTag, etc.)\n4. sqlite_search.go - Search functionality\n\nAcceptance Criteria:\n- Each file \u003c 150 lines\n- Clear separation of concerns\n- No breaking changes to public API\n- All tests still pass\n\nPriority: P0 (foundational for database work)","status":"closed","priority":0,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-14T22:56:25.234280268+01:00","created_by":"Megatherium","updated_at":"2026-02-14T23:13:40.580027383+01:00","closed_at":"2026-02-14T23:13:40.580027383+01:00","close_reason":"Refactoring complete. Review troveler-3hd passed with score 8.5/10.","dependencies":[{"issue_id":"troveler-kqx","depends_on_id":"troveler-3hd","type":"blocks","created_at":"2026-02-14T23:09:43.165154117+01:00","created_by":"Megatherium"}]}
{"id":"troveler-nzd","title":"Review: Fix TUI panic on narrow terminals","description":"Review the fix for troveler-9xr that prevents TUI panic when terminal width \u003c 132 columns.\n\nChanges:\n- tui/panels/tools.go: Added minimum width check and bounded taglineWidth calculation\n- tui/panels/search.go: Added defensive width check for input field\n- tui/view.go: Added minimum terminal size checks (80x20)\n- Added tests for narrow terminal handling\n\nVerify:\n- Width calculations are properly bounded\n- Error messages are clear and helpful\n- No regressions in normal-width terminals\n- Code is maintainable and follows project patterns","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T02:04:57.190987824+01:00","created_by":"Megatherium","updated_at":"2026-02-13T02:07:17.470948833+01:00","closed_at":"2026-02-13T02:07:17.470948833+01:00","close_reason":"Review complete - fix properly handles narrow terminals with clear error messages and no regressions"}
{"id":"troveler-o39","title":"Review: Preserve user tags during troveler update","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T17:52:03.465255229+01:00","created_by":"Megatherium","updated_at":"2026-02-13T17:54:21.186564377+01:00","closed_at":"2026-02-13T17:54:21.186564377+01:00","close_reason":"Review complete - Score 8.5/10. Clean implementation with proper concurrency handling, good test coverage, and correct edge case handling. No refinement required."}
{"id":"troveler-pqc","title":"Review: Add tag= filter to search queries","description":"Review the tag filter implementation in filter_sql.go and the integration tests.","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T18:46:32.530207426+01:00","created_by":"Megatherium","updated_at":"2026-02-13T21:16:34.340562813+01:00","closed_at":"2026-02-13T21:16:34.340562813+01:00","close_reason":"Refinement completed"}
{"id":"troveler-q9i","title":"Enable SQLite foreign key enforcement","description":"SQLite does NOT enforce foreign keys by default. ON DELETE CASCADE in tool_tags is a no-op right now. Add to New():\\n\\n```go\\ndb.SetMaxOpenConns(1)\\ndb.Exec(\"PRAGMA foreign_keys = ON\")\\n```\\n\\nThis directly affects tag preservation during updates — cascades won't fire without it.","status":"closed","priority":0,"issue_type":"bug","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T16:35:24.632140412+01:00","created_by":"Megatherium","updated_at":"2026-02-13T16:41:30.859577221+01:00","closed_at":"2026-02-13T16:41:30.859577221+01:00","close_reason":"Enabled FK enforcement in New() with SetMaxOpenConns(1) + PRAGMA foreign_keys = ON. Added TestForeignKeyCascade.","dependencies":[{"issue_id":"troveler-q9i","depends_on_id":"troveler-5lq","type":"discovered-from","created_at":"2026-02-13T16:37:11.427237458+01:00","created_by":"Megatherium"}]}
{"id":"troveler-qts","title":"Refactor: Split tui/view.go into focused files","description":"The tui/view.go file is 541 lines handling all rendering logic.\n\nProposed split:\n- view_layout.go - Main 4-panel layout calculation\n- view_modals.go - Help, info, update, install modals\n- view_panels.go - Individual panel renderers\n- view_helpers.go - min(), max() and utilities\n\nAcceptance Criteria:\n- Each file under 200 lines\n- No logic changes, just reorganization\n- All tests still pass\n\nDepends on: Split tui/update.go refactoring","status":"closed","priority":1,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-14T22:56:43.107872914+01:00","created_by":"Megatherium","updated_at":"2026-02-15T00:39:18.465550416+01:00","closed_at":"2026-02-15T00:39:18.465550416+01:00","close_reason":"Split view.go into 5 focused files under 200 lines each. All tests pass.","dependencies":[{"issue_id":"troveler-qts","depends_on_id":"troveler-v6f","type":"blocks","created_at":"2026-02-14T22:57:15.103026495+01:00","created_by":"Megatherium"}]}
{"id":"troveler-riq","title":"Fix tag API asymmetry - slug vs toolID","description":"- AddTag/RemoveTag/ClearTags accept slug\\n- GetTags accepts toolID\\n\\nThis leaks internals — callers (and tests) must know ID construction. Add GetTagsBySlug(slug) or change GetTags to accept slug. All tag APIs should use the same key.","status":"closed","priority":1,"issue_type":"bug","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T16:35:33.303660886+01:00","created_by":"Megatherium","updated_at":"2026-02-13T17:06:24.221640729+01:00","closed_at":"2026-02-13T17:06:24.221640729+01:00","close_reason":"Changed GetTags to accept slug instead of toolID, matching AddTag/RemoveTag/ClearTags API. Updated tests to use slug consistently.","dependencies":[{"issue_id":"troveler-riq","depends_on_id":"troveler-q9i","type":"blocks","created_at":"2026-02-13T16:36:16.153754185+01:00","created_by":"Megatherium"},{"issue_id":"troveler-riq","depends_on_id":"troveler-5lq","type":"discovered-from","created_at":"2026-02-13T16:37:11.585265513+01:00","created_by":"Megatherium"}]}
{"id":"troveler-tz6","title":"Review: Platform package consolidation","description":"Review the refactoring of platform logic into internal/platform package for:\n\n1. API completeness - all necessary functions exported\n2. Test coverage - edge cases covered\n3. Documentation - exported items have comments\n4. Code quality - lint issues addressed\n5. Import updates - all consumers updated correctly\n\nKey files to review:\n- internal/platform/*.go\n- internal/install/commands.go (wrapper functions)\n- commands/install.go (consumer)","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-15T00:45:16.415700876+01:00","created_by":"Megatherium","updated_at":"2026-02-15T00:52:19.357775216+01:00","closed_at":"2026-02-15T00:52:19.357775216+01:00","close_reason":"Review complete - all acceptance criteria met, tests passing","dependencies":[{"issue_id":"troveler-tz6","depends_on_id":"troveler-gh7","type":"discovered-from","created_at":"2026-02-15T00:45:16.417774727+01:00","created_by":"Megatherium"}]}
{"id":"troveler-v6f","title":"Refactor: Split tui/update.go into focused files","description":"The tui/update.go file is 730 lines and handles too many responsibilities:\n\nCurrent issues:\n- Message handlers (lines 100-268)\n- Key routing logic (lines 270-442) \n- Batch install processing (lines 607-729)\n- Install execution (lines 514-558)\n\nAll mixed together making it hard to maintain and test.\n\nProposed split:\n1. update_handlers.go - All handle*() functions\n2. update_keys.go - Key routing logic\n3. update_batch.go - Batch install processing\n4. update_install.go - Install execution\n\nAcceptance Criteria:\n- Each file \u003c 200 lines\n- No logic changes, just reorganization\n- All tests still pass\n- No circular dependencies between new files\n\nPriority: P0 (blocking other TUI work)","status":"closed","priority":0,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-14T22:56:21.570171716+01:00","created_by":"Megatherium","updated_at":"2026-02-14T23:06:29.25228516+01:00","closed_at":"2026-02-14T23:06:29.25228516+01:00","close_reason":"Split update.go (730 lines) into 5 focused files: update.go (90), update_handlers.go (167), update_keys.go (157), update_install.go (110), update_batch.go (166). All under 200 lines, tests pass."}
{"id":"troveler-vlq","title":"Fix gosec: security issues in codebase","description":"10 security issues: G204 (subprocess with variable), G306 (file permissions 0644), G404 (weak random math/rand), G201 (SQL string formatting). Files: commands/install.go, commands/override_test.go, commands/update.go, config/config_test.go, db/sqlite.go, internal/update/slugwave.go, pkg/ui/table.go, tui/update.go","status":"closed","priority":1,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T23:15:19.36842793+01:00","created_by":"Megatherium","updated_at":"2026-02-13T23:34:01.255125059+01:00","closed_at":"2026-02-13T23:34:01.255125059+01:00","close_reason":"Fixed all gosec issues: G204 (subprocess with variable) - added nolint for intentional user-install commands; G306 (file perms) - added nolint for test files; G404 (weak random) - added nolint for UI animation only; G201 (SQL formatting) - added nolint for validated sort field/order; G602 (slice bounds) - added nolint for bounds-checked access"}
{"id":"troveler-yo9","title":"Implement tag command with CRUD subcommands","description":"Add troveler tag command for managing user-curated tags on tools.\n\n## Subcommands\n```\ntroveler tag add \u003cslug\u003e \u003ctag\u003e      # Add tag to tool\ntroveler tag remove \u003cslug\u003e \u003ctag\u003e   # Remove tag from tool\ntroveler tag list [slug]           # List all tags (or tags for specific tool)\ntroveler tag clear \u003cslug\u003e          # Remove all tags from tool\n```\n\n## Examples\n```troveler tag add fzf fuzzy\ntroveler tag add fzf cli\ntroveler tag list fzf    # Output: fuzzy, cli\ntroveler tag list        # Output: all tags with counts\ntroveler tag remove fzf cli\ntroveler tag clear fzf\n```\n\n## Implementation\n1. Create commands/tag.go with Cobra subcommands\n2. Wire up to db methods from schema ticket\n3. Output formatting (plain text, JSON with --json flag)\n4. Error handling for non-existent tools/tags\n\n## Tests\n- Unit tests for each subcommand\n- Error cases (tool not found, tag not found, duplicate tag)","status":"closed","priority":2,"issue_type":"feature","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T12:48:52.193576673+01:00","created_by":"Megatherium","updated_at":"2026-02-13T17:36:07.279112028+01:00","closed_at":"2026-02-13T17:36:07.279112028+01:00","close_reason":"Implemented tag command with add/remove/list/clear subcommands. Added --json flag for list output. Unit tests cover all subcommands and error cases.","dependencies":[{"issue_id":"troveler-yo9","depends_on_id":"troveler-5lq","type":"blocks","created_at":"2026-02-13T16:31:27.96659956+01:00","created_by":"Megatherium"},{"issue_id":"troveler-yo9","depends_on_id":"troveler-q9i","type":"blocks","created_at":"2026-02-13T16:37:02.6054245+01:00","created_by":"Megatherium"},{"issue_id":"troveler-yo9","depends_on_id":"troveler-5t4","type":"blocks","created_at":"2026-02-13T16:37:02.68079589+01:00","created_by":"Megatherium"},{"issue_id":"troveler-yo9","depends_on_id":"troveler-riq","type":"blocks","created_at":"2026-02-13T16:37:02.758260556+01:00","created_by":"Megatherium"}]}
{"id":"troveler-yp6","title":"Fix gocyclo: reduce cyclomatic complexity","description":"2 functions have high cyclomatic complexity (\u003e30): (*Model).Update (39) and (*Model).handleKeyPress (49) in tui/update.go. Consider extracting logic into helper functions.","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T23:15:24.42308709+01:00","created_by":"Megatherium","updated_at":"2026-02-13T23:27:30.399413481+01:00","closed_at":"2026-02-13T23:27:30.399413481+01:00","close_reason":"Refactored Update (39→21) and handleKeyPress (49→17) by extracting message handlers and key handler groups into separate methods. Both functions now have cyclomatic complexity below 30. All tests pass."}
