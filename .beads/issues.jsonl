{"id":"troveler-0h9","title":"[FEATURE] Tagging system for tools","description":"To group the tools into meaningful categories (because terminal trove itself only has attributes like licence and language) we are going to introduce tags.\nTags have more flexibility than creating a strict taxonomy\n## Proposed Solution\nWe will add a tag command with add, remove, list and clear subcommands\nTags will be need to added to search: tag keyword, multiples allowed e.g.:\n\"(name=foo\u0026tag=file\u0026tag=ai\u0026!tag=search)\"\nDB schema will need to be adapted (don't worry about the current state, you can drop the db if needed)\nProbably smarter to first implement the ! (not) operator and then the tags.\nWe need to make sure that running `troveler update` does not delete any tags we may have added\nEverything requires tests!!!\n","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T12:08:28.168975362+01:00","created_by":"Megatherium","updated_at":"2026-02-13T12:49:30.438448385+01:00","closed_at":"2026-02-13T12:49:30.438448385+01:00","close_reason":"Split into 5 granular tickets: troveler-2hc (NOT operator), troveler-7ub (schema), troveler-yo9 (tag command), troveler-5r2 (search integration), troveler-8li (update preservation)"}
{"id":"troveler-2hc","title":"Implement NOT (!) operator for search filters","description":"Add support for negating filter expressions in search queries.\n\n## Current State\nSearch supports: field=value, \u0026 (AND), | (OR), parentheses\nNOT supported: ! (negation) operator\n\n## Requirements\n1. Extend filter parser to tokenize ! prefix on terms\n2. Add Not type to Filter AST in db/models.go\n3. Update filter_sql.go to generate NOT / NOT EXISTS clauses\n4. Support both simple (!field=value) and complex (!(a|b)) negations\n\n## Examples\n- !installed=true - show uninstalled tools\n- !language=go - exclude Go tools\n- !(language=go|language=rust) - exclude Go and Rust\n\n## Tests\n- Unit tests for parser\n- Unit tests for SQL generation\n- Integration tests with real search","status":"closed","priority":1,"issue_type":"feature","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T12:48:38.972713743+01:00","created_by":"Megatherium","updated_at":"2026-02-13T13:14:08.485528071+01:00","closed_at":"2026-02-13T13:14:08.485528071+01:00","close_reason":"Implemented NOT operator: added FilterNot type, tokenizer/parser support, SQL generation, installed filter handling, and comprehensive tests"}
{"id":"troveler-5r2","title":"Add tag= filter to search queries","description":"Enable searching tools by their tags using tag= filter syntax.\n\n## Requirements\n1. Extend filter parser to recognize tag= as valid field\n2. Update filter_sql.go to JOIN tool_tags table\n3. Support multiple tags with AND/OR: tag=cli\u0026tag=fuzzy\n4. Support negation: !tag=experimental\n\n## Examples\n```troveler search tag=cli\ntroveler search \"tag=cli\u0026tag=fuzzy\"\ntroveler search \"(tag=cli|tag=tui)\u0026!tag=experimental\"\ntroveler search \"language=go\u0026tag=ai\"\n```\n\n## Implementation Notes\n- JOIN with tool_tags and tags tables\n- Handle NOT tag with LEFT JOIN / NOT EXISTS\n- Support combining tag filters with existing fields\n\n## Depends On\n- NOT operator ticket (for !tag= support)\n- Tags schema ticket (for DB structure)\n- Tag command ticket (for test data)\n\n## Tests\n- Parser tests for tag= syntax\n- SQL generation tests\n- Integration tests with tagged tools","status":"open","priority":2,"issue_type":"feature","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T12:48:58.56287574+01:00","created_by":"Megatherium","updated_at":"2026-02-13T12:48:58.56287574+01:00","dependencies":[{"issue_id":"troveler-5r2","depends_on_id":"troveler-2hc","type":"blocks","created_at":"2026-02-13T12:49:19.44150437+01:00","created_by":"Megatherium"},{"issue_id":"troveler-5r2","depends_on_id":"troveler-7ub","type":"blocks","created_at":"2026-02-13T12:49:19.526192389+01:00","created_by":"Megatherium"},{"issue_id":"troveler-5r2","depends_on_id":"troveler-yo9","type":"blocks","created_at":"2026-02-13T12:49:19.602984131+01:00","created_by":"Megatherium"}]}
{"id":"troveler-5ys","title":"Add JSON output format","description":"Add (for the search command) an --format option. Valid formats are pretty (default, what were currently emitting) and JSON (all results in an array would be my suggestion)","status":"closed","priority":2,"issue_type":"feature","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-12T00:07:08.12436291+01:00","created_by":"Megatherium","updated_at":"2026-02-12T00:12:14.413619115+01:00","closed_at":"2026-02-12T00:12:14.413619115+01:00","close_reason":"Implemented --format flag for search command with 'pretty' (default) and 'json' options"}
{"id":"troveler-67w","title":"Refinement: Transform eget commands","description":"Issues found in review (troveler-73y):\n\n1. Unnecessary regex in eget transformation (lines 40-46)\n   - Currently uses regex `^eget\\\\s+(.+)$` for simple prefix matching\n   - Should use strings.CutPrefix for consistency with go/cargo patterns\n\n2. Typo/formatting in go install pattern (line 12)\n   - Missing space after `:=`: `if after, ok :=strings.CutPrefix(...)`\n\n3. Missing edge case tests\n   - eget foo (single segment repo)\n   - eget foo/bar/baz (too many segments)\n   - eget foo/bar --version 1.0 (flags after repo)\n\nFixes required:\n- Replace eget regex with strings.CutPrefix + strings.Fields logic\n- Fix typo in line 12\n- Add edge case tests to test coverage","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-11T14:25:47.144024851+01:00","created_by":"Megatherium","updated_at":"2026-02-12T00:03:24.496266626+01:00","closed_at":"2026-02-12T00:03:24.496266626+01:00","close_reason":"Everything works. Reviewed by reinchecn-7lh","dependencies":[{"issue_id":"troveler-67w","depends_on_id":"troveler-73y","type":"discovered-from","created_at":"2026-02-11T14:25:55.825150776+01:00","created_by":"Megatherium"}]}
{"id":"troveler-73y","title":"Review: Transform eget commands","description":"Review the implementation of eget to mise transformation in internal/install/mise.go. Changes include:\\n- Added eget transformation logic to TransformToMise function\\n- Added 4 test cases covering basic, with github prefix, with extra flags, and with whitespace\\n- All tests pass\\n\\nCheck for:\\n- Code quality and maintainability\\n- Proper regex handling for edge cases\\n- Test coverage adequacy\\n- Following existing patterns in the codebase","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-11T11:04:41.472151031+01:00","created_by":"Megatherium","updated_at":"2026-02-11T14:26:01.991046384+01:00","closed_at":"2026-02-11T14:26:01.991046384+01:00","close_reason":"Review completed - found issues requiring refinement (troveler-67w)"}
{"id":"troveler-7lh","title":"Review: Show virtuals in install command","description":"Review implementation of virtual install instructions and related bug fixes. This review covers changes from tickets: troveler-bdt, troveler-dhg, and troveler-iwv.\n\nChanges include:\n\n**Ticket troveler-bdt: Virtual install instructions generation**\n1. Added GenerateVirtualInstallInstructions() in internal/install/commands.go\n2. Updated showAllInstalls() in commands/install.go to show virtuals\n3. Updated runInfo() in commands/info.go to show virtuals\n4. Updated SetTool() in tui/panels/install.go to show virtuals\n5. Added comprehensive tests in internal/install/install_test.go\n\nKey implementation details:\n- Generates mise: platforms (mise:go, mise:cargo, mise:npm, mise:pipx, mise:github)\n- Handles duplicates (npm/yarn/pnpm → single mise:npm)\n- Skips existing mise:* platforms\n- Returns results in deterministic order\n\n**Ticket troveler-dhg: CLI override priority over mise mode**\n1. commands/install.go: Only force cliOverride='LANG' when mise enabled AND no CLI override provided\n2. tui/panels/install.go: Same fix for TUI panel\n3. Added comprehensive tests in commands/override_test.go\n\nFixed: CLI parameters now have higher priority than config settings.\n\n**Ticket troveler-iwv: Virtual platform override handling**\n1. commands/install.go: Added ResolveVirtualPlatform() to map mise:* → source platform\n2. Updated override logic to resolve virtual platforms before matching\n3. commands/install_test.go: Added tests for virtual platform resolution\n4. tui/panels/install.go: Added resolveVirtualPlatform() method for TUI panel\n\nFixed: -o mise:github, -o mise:go, -o mise:cargo now work correctly.\n\nAll changes:\n- No new linting issues\n- All existing tests pass\n- All new tests added and passing\n\nPlease assess code quality, maintainability, and patterns. Score 0.0-10.0.","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-11T14:54:31.974638238+01:00","created_by":"Megatherium","updated_at":"2026-02-11T15:44:39.480974696+01:00","closed_at":"2026-02-11T15:44:39.480974696+01:00","close_reason":"Review complete - Score 8.5/10. Code quality is solid with comprehensive test coverage. Minor stylistic notes: TUI panel override resolution order differs from CLI version, and TransformToMise has no dedicated tests. However, functional correctness is verified by integration tests. No refinement required."}
{"id":"troveler-7ub","title":"Add tags database schema (many-to-many)","description":"Create database tables for user-curated tool tags.\n\n## Schema Design\n```sql\nCREATE TABLE tags (\n    id TEXT PRIMARY KEY,\n    name TEXT UNIQUE NOT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE TABLE tool_tags (\n    tool_id TEXT REFERENCES tools(id) ON DELETE CASCADE,\n    tag_id TEXT REFERENCES tags(id) ON DELETE CASCADE,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    PRIMARY KEY (tool_id, tag_id)\n);\n\nCREATE INDEX idx_tool_tags_tag_id ON tool_tags(tag_id);\n```\n\n## Implementation\n1. Add tables in db/sqlite.go:createTables()\n2. Add DB methods:\n   - GetTags(toolID) []string\n   - GetAllTags() []Tag (for autocomplete/listing)\n   - AddTag(slug, tagName) error\n   - RemoveTag(slug, tagName) error\n   - ClearTags(slug) error\n   - GetToolsByTag(tagName) []Tool\n\n## Notes\n- Tags are user-curated, NOT scraped from terminaltrove.com\n- Can drop existing DB for clean migration\n- Tests for all DB operations","status":"open","priority":1,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T12:48:45.158007608+01:00","created_by":"Megatherium","updated_at":"2026-02-13T12:48:45.158007608+01:00"}
{"id":"troveler-8li","title":"Preserve user tags during troveler update","description":"Ensure user-curated tags survive database updates from terminaltrove.com.\n\n## Problem\nThe update command upserts tools and may change internal IDs. User tags must be preserved.\n\n## Solution\n1. Before update: snapshot all tool_tags (by slug, since slug is stable)\n2. After upsert: re-apply tags to tools using slug matching\n3. Handle tools that no longer exist in remote (keep orphan tags? or clean up?)\n\n## Implementation\n- Modify commands/update.go to wrap DB writes with tag preservation\n- Store map[slug][]tag before update starts\n- After all tools upserted, re-apply tags\n\n## Edge Cases\n- Tool removed from terminaltrove.com: tags stay in DB (orphan cleanup optional)\n- Slug renamed: tags lost (acceptable, user can re-tag)\n- Tag deleted but tool_tags reference exists: foreign key cascade\n\n## Tests\n- Add tags to tools, run update, verify tags still present\n- Test with tools added/removed from mock data","status":"open","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T12:49:05.819223889+01:00","created_by":"Megatherium","updated_at":"2026-02-13T12:49:05.819223889+01:00","dependencies":[{"issue_id":"troveler-8li","depends_on_id":"troveler-7ub","type":"blocks","created_at":"2026-02-13T12:49:19.679949108+01:00","created_by":"Megatherium"}]}
{"id":"troveler-9xr","title":"[BUG] Too thin TUI crashes","description":"If the TUI has less than 132 columns of width the program will panic (see panic.log)\n## Steps to Reproduce\n1. Start troveler tui with less than 132 columns or reduce the number of columns to lower than 132 when the tui is running\n## Expected Behavior\nGood question. Until we have an idea how to cope (scrollable windows, resized columns, etc) we just need to prevent that our app offs itself by sudoku.","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T01:52:28.634428683+01:00","created_by":"Megatherium","updated_at":"2026-02-13T02:07:20.76044583+01:00","closed_at":"2026-02-13T02:07:20.76044583+01:00","close_reason":"Fixed - TUI now gracefully handles narrow terminals with clear error messages instead of panicking","dependencies":[{"issue_id":"troveler-9xr","depends_on_id":"troveler-nzd","type":"blocks","created_at":"2026-02-13T02:05:44.288127319+01:00","created_by":"Megatherium"}]}
{"id":"troveler-bdt","title":"Show virtuals in install command and prefix them accordingly","description":"Currently we only show what we've parsed from the TT entry in terms of install methods.\nBut we have install platforms/methods that are derived from the original data e.g. mise go:, mise cargo: but now also mise github (from eget)\nThe table in the install command should be a union of parsed and generated commands. The platform names for the mise method are simply mise:$backend, so mise:cargo, mise:npm, mise:pipx (even if we're using uv under the hood) and mise:github (even though it's parsed from eget)\nSplit this ticket if more efficient / necessary","status":"deferred","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-11T14:21:03.234560855+01:00","created_by":"Megatherium","updated_at":"2026-02-13T12:09:40.745242128+01:00","defer_until":"2026-02-17T12:09:40+01:00","dependencies":[{"issue_id":"troveler-bdt","depends_on_id":"troveler-7lh","type":"blocks","created_at":"2026-02-11T14:54:47.935387377+01:00","created_by":"Megatherium"}]}
{"id":"troveler-ctr","title":"Transform eget commands","description":"There are occasions where you encounter no useful installation method but at least an eget command.\nTurns out eget just pulls a release from github. We can do the same thing with mise with the github backend.\neget foo/bar\nis the same as\nmise use --global github:foo/bar\nSo if there's an eget command you can offer a virtual mise command (which is a mise fallback if we don't have a specific language command)","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-11T10:58:12.709443396+01:00","created_by":"Megatherium","updated_at":"2026-02-11T14:29:37.449368498+01:00","closed_at":"2026-02-11T14:29:37.449368498+01:00","close_reason":"Refinement complete - fixed typo, replaced regex with strings.CutPrefix, added edge case tests","dependencies":[{"issue_id":"troveler-ctr","depends_on_id":"troveler-73y","type":"blocks","created_at":"2026-02-11T11:04:48.412169308+01:00","created_by":"Megatherium"}]}
{"id":"troveler-dhg","title":"Fix: CLI override should have higher priority than mise mode","description":"When mise_mode is enabled (from config or --mise flag), the CLI --override flag should still be respected. Currently, if mise mode is on, any -o flag is ignored because cliOverride is forced to 'LANG' before checking the CLI value.\n\nFix: Only force cliOverride='LANG' when mise mode is enabled AND no CLI override was provided by the user. CLI parameters should have higher priority than config settings.","status":"closed","priority":1,"issue_type":"bug","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-11T15:11:31.484614584+01:00","created_by":"Megatherium","updated_at":"2026-02-11T15:18:38.915703808+01:00","closed_at":"2026-02-11T15:18:38.915703808+01:00","close_reason":"Fixed CLI override priority issue. When mise mode is enabled (via --mise flag or config), CLI --override flag now properly overrides the LANG behavior. \n\nChanges:\n- commands/install.go: Only force cliOverride='LANG' when mise enabled AND no CLI override provided\n- tui/panels/install.go: Same fix for TUI panel\n- Added comprehensive tests in commands/override_test.go\n\nCLI parameters now have higher priority than config settings as intended."}
{"id":"troveler-iwv","title":"Fix: Override should handle virtual mise:* platforms","description":"When using --override with virtual platforms like mise:github or mise:go, the command selection fails because it only looks for raw platforms.\n\nVirtual platforms are generated for display but the override matching logic doesn't know how to resolve them back to their source platforms (mise:github → github, mise:go → go).\n\nFix: Add virtual platform resolution in override logic to map mise:* platforms back to their source platforms before matching.","status":"closed","priority":1,"issue_type":"bug","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-11T15:34:14.502202863+01:00","created_by":"Megatherium","updated_at":"2026-02-11T15:40:09.250528514+01:00","closed_at":"2026-02-11T15:40:09.250528514+01:00","close_reason":"Fixed virtual platform override handling. Added ResolveVirtualPlatform() to map mise:* platforms back to their source platforms (mise:github → github, mise:go → go, etc.).\n\nChanges:\n- commands/install.go: Added ResolveVirtualPlatform() and updated override logic\n- commands/install_test.go: Added comprehensive tests for virtual platform resolution\n- tui/panels/install.go: Added resolveVirtualPlatform() method for TUI panel\n\nNow -o mise:github, -o mise:go, -o mise:cargo all work correctly."}
{"id":"troveler-nzd","title":"Review: Fix TUI panic on narrow terminals","description":"Review the fix for troveler-9xr that prevents TUI panic when terminal width \u003c 132 columns.\n\nChanges:\n- tui/panels/tools.go: Added minimum width check and bounded taglineWidth calculation\n- tui/panels/search.go: Added defensive width check for input field\n- tui/view.go: Added minimum terminal size checks (80x20)\n- Added tests for narrow terminal handling\n\nVerify:\n- Width calculations are properly bounded\n- Error messages are clear and helpful\n- No regressions in normal-width terminals\n- Code is maintainable and follows project patterns","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T02:04:57.190987824+01:00","created_by":"Megatherium","updated_at":"2026-02-13T02:07:17.470948833+01:00","closed_at":"2026-02-13T02:07:17.470948833+01:00","close_reason":"Review complete - fix properly handles narrow terminals with clear error messages and no regressions"}
{"id":"troveler-yo9","title":"Implement tag command with CRUD subcommands","description":"Add troveler tag command for managing user-curated tags on tools.\n\n## Subcommands\n```\ntroveler tag add \u003cslug\u003e \u003ctag\u003e      # Add tag to tool\ntroveler tag remove \u003cslug\u003e \u003ctag\u003e   # Remove tag from tool\ntroveler tag list [slug]           # List all tags (or tags for specific tool)\ntroveler tag clear \u003cslug\u003e          # Remove all tags from tool\n```\n\n## Examples\n```troveler tag add fzf fuzzy\ntroveler tag add fzf cli\ntroveler tag list fzf    # Output: fuzzy, cli\ntroveler tag list        # Output: all tags with counts\ntroveler tag remove fzf cli\ntroveler tag clear fzf\n```\n\n## Implementation\n1. Create commands/tag.go with Cobra subcommands\n2. Wire up to db methods from schema ticket\n3. Output formatting (plain text, JSON with --json flag)\n4. Error handling for non-existent tools/tags\n\n## Tests\n- Unit tests for each subcommand\n- Error cases (tool not found, tag not found, duplicate tag)","status":"open","priority":2,"issue_type":"feature","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T12:48:52.193576673+01:00","created_by":"Megatherium","updated_at":"2026-02-13T12:48:52.193576673+01:00"}
