{"id":"troveler-099","title":"[CHORE] Create linter config","description":"Based on the code base generate a config for `golangci-lint` that has appropriate linters enabled and otherwise sensible parameters\n## Why is this needed?\nA default config doesn't give us the optimum utility \n## Scope\nWhole codebase\n## Acceptance Criteria\n- [ ] linter config file that your mother would be proud of","status":"closed","priority":3,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T13:52:03.227994754+01:00","created_by":"Megatherium","updated_at":"2026-02-13T14:11:12.08897232+01:00","closed_at":"2026-02-13T14:11:12.08897232+01:00","close_reason":"Created comprehensive golangci-lint v2 configuration (.golangci.yml) with appropriate linters for Go CLI/TUI project. Configuration includes: Core linters (govet, errcheck, staticcheck, unused, ineffassign, unconvert), Advanced checks (gosec, goconst, gocyclo, misspell, unparam), Code quality (revive, errname, errorlint, goheader, lll, makezero, nilerr, noctx, nlreturn, nolintlint, predeclared, rowserrcheck, sqlclosecheck, whitespace). Tuned settings: 5m timeout, 50 max issues per file, Go 1.25.6, tests enabled, smart exclusions for test files, generated code, and build scripts. Successfully tested and detected 8 code quality issues."}
{"id":"troveler-0h9","title":"[FEATURE] Tagging system for tools","description":"To group the tools into meaningful categories (because terminal trove itself only has attributes like licence and language) we are going to introduce tags.\nTags have more flexibility than creating a strict taxonomy\n## Proposed Solution\nWe will add a tag command with add, remove, list and clear subcommands\nTags will be need to added to search: tag keyword, multiples allowed e.g.:\n\"(name=foo\u0026tag=file\u0026tag=ai\u0026!tag=search)\"\nDB schema will need to be adapted (don't worry about the current state, you can drop the db if needed)\nProbably smarter to first implement the ! (not) operator and then the tags.\nWe need to make sure that running `troveler update` does not delete any tags we may have added\nEverything requires tests!!!\n","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T12:08:28.168975362+01:00","created_by":"Megatherium","updated_at":"2026-02-13T12:49:30.438448385+01:00","closed_at":"2026-02-13T12:49:30.438448385+01:00","close_reason":"Split into 5 granular tickets: troveler-2hc (NOT operator), troveler-7ub (schema), troveler-yo9 (tag command), troveler-5r2 (search integration), troveler-8li (update preservation)"}
{"id":"troveler-2hc","title":"Implement NOT (!) operator for search filters","description":"Add support for negating filter expressions in search queries.\n\n## Current State\nSearch supports: field=value, \u0026 (AND), | (OR), parentheses\nNOT supported: ! (negation) operator\n\n## Requirements\n1. Extend filter parser to tokenize ! prefix on terms\n2. Add Not type to Filter AST in db/models.go\n3. Update filter_sql.go to generate NOT / NOT EXISTS clauses\n4. Support both simple (!field=value) and complex (!(a|b)) negations\n\n## Examples\n- !installed=true - show uninstalled tools\n- !language=go - exclude Go tools\n- !(language=go|language=rust) - exclude Go and Rust\n\n## Tests\n- Unit tests for parser\n- Unit tests for SQL generation\n- Integration tests with real search","status":"closed","priority":1,"issue_type":"feature","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T12:48:38.972713743+01:00","created_by":"Megatherium","updated_at":"2026-02-13T13:14:08.485528071+01:00","closed_at":"2026-02-13T13:14:08.485528071+01:00","close_reason":"Implemented NOT operator: added FilterNot type, tokenizer/parser support, SQL generation, installed filter handling, and comprehensive tests"}
{"id":"troveler-2qx","title":"Review: Tags database schema","description":"Review the tags schema implementation for quality, maintainability, and correctness.\n\n## Files Changed\n- db/models.go - Added Tag and TagCount models\n- db/sqlite.go - Added tags/tool_tags tables and 6 DB methods\n- db/tags_test.go - 18 tests for tag operations\n\n## Review Criteria\n- Schema design correctness (foreign keys, indexes, constraints)\n- Error handling completeness\n- Test coverage adequacy\n- Code style consistency with existing codebase","status":"closed","priority":1,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T16:18:27.817987205+01:00","created_by":"Megatherium","updated_at":"2026-02-13T16:23:59.349555601+01:00","closed_at":"2026-02-13T16:23:59.349555601+01:00","close_reason":"Review complete. Refinement ticket troveler-5lq created with 6 findings (1 critical, 2 high, 2 medium, 1 low)."}
{"id":"troveler-30t","title":"Improve tag test coverage","description":"- Tests hardcode \"tool-fzf\" as toolID — use slug-based API instead\\n- Unchecked AddTag errors in setup (lint warnings)\\n- Missing edge cases: spaces in tag names, unicode, case-insensitive dedup, FK cascade behavior\\n- seedTool returns *Tool that's never used (unparam lint)","status":"closed","priority":3,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T16:35:42.003667442+01:00","created_by":"Megatherium","updated_at":"2026-02-13T18:28:25.227879021+01:00","closed_at":"2026-02-13T18:28:25.227879021+01:00","close_reason":"Complete","dependencies":[{"issue_id":"troveler-30t","depends_on_id":"troveler-5t4","type":"blocks","created_at":"2026-02-13T16:36:16.384638382+01:00","created_by":"Megatherium"},{"issue_id":"troveler-30t","depends_on_id":"troveler-riq","type":"blocks","created_at":"2026-02-13T16:36:16.479096594+01:00","created_by":"Megatherium"},{"issue_id":"troveler-30t","depends_on_id":"troveler-k25","type":"blocks","created_at":"2026-02-13T16:36:16.560300705+01:00","created_by":"Megatherium"},{"issue_id":"troveler-30t","depends_on_id":"troveler-ftp","type":"blocks","created_at":"2026-02-13T16:36:16.63651751+01:00","created_by":"Megatherium"},{"issue_id":"troveler-30t","depends_on_id":"troveler-5lq","type":"discovered-from","created_at":"2026-02-13T16:37:11.806981983+01:00","created_by":"Megatherium"},{"issue_id":"troveler-30t","depends_on_id":"troveler-jhw","type":"blocks","created_at":"2026-02-13T18:00:45.844194517+01:00","created_by":"Megatherium"}]}
{"id":"troveler-3o4","title":"Review: Fix tag ID generation","description":"Review the schema and code changes for tag ID generation fix. Check: 1) Schema correctness (FK, COLLATE NOCASE), 2) Query correctness in all tag methods, 3) Test coverage, 4) Any edge cases missed.","status":"closed","priority":1,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T16:55:05.047511063+01:00","created_by":"Megatherium","updated_at":"2026-02-13T16:58:44.037236327+01:00","closed_at":"2026-02-13T16:58:44.037236327+01:00","close_reason":"Review complete. Schema correct (name PK, COLLATE NOCASE, FK cascades). All 6 query methods consistent with new schema. No dead references. All 15 tests pass. Two observations filed under existing tickets troveler-5t4 (input normalization) and troveler-riq (API asymmetry)."}
{"id":"troveler-5lq","title":"Refine: Tags schema correctness and API consistency","description":"Review findings from troveler-2qx. All items should be addressed before building CLI commands (troveler-yo9) or tag preservation (troveler-8li).\n\n## Critical: Enable foreign key enforcement\nSQLite does NOT enforce foreign keys by default. `ON DELETE CASCADE` in `tool_tags` is a no-op right now. Add to `New()`:\n```go\ndb.SetMaxOpenConns(1)\ndb.Exec(\"PRAGMA foreign_keys = ON\")\n```\nThis directly affects tag preservation during updates — cascades won't fire without it.\n\n## High: Fix tag ID generation\n`AddTag` builds IDs via `fmt.Sprintf(\"tag-%s\", tagName)` — raw user input in primary keys. Breaks with spaces, unicode, mixed case. Normalize input (`strings.ToLower(strings.TrimSpace(tagName))`) and either:\n- (A) Drop `tags.id`, key by `name TEXT PRIMARY KEY COLLATE NOCASE`, or\n- (B) Keep `id` but generate opaque IDs (hash/random), keep `name UNIQUE COLLATE NOCASE`\n\nOption A is simplest since `name` is already UNIQUE and all lookups use it.\n\n## High: Fix API asymmetry (slug vs toolID)\n- `AddTag/RemoveTag/ClearTags` accept **slug**\n- `GetTags` accepts **toolID**\n\nThis leaks internals — callers (and tests) must know ID construction. Add `GetTagsBySlug(slug)` or change `GetTags` to accept slug. All tag APIs should use the same key.\n\n## Medium: Prune orphaned tags\n`RemoveTag` and `ClearTags` delete from `tool_tags` but leave the `tags` row. `GetAllTags` will surface dead tags with count=0. Either:\n- Prune after unlink: `DELETE FROM tags WHERE id NOT IN (SELECT DISTINCT tag_id FROM tool_tags)`\n- Or document it as intentional (global vocabulary)\n\n## Medium: Validate/normalize tag names on input\nNo trimming or normalization — `\"cli\"`, `\" cli \"`, `\"CLI\"` become 3 separate tags. Add `strings.ToLower(strings.TrimSpace(...))` + empty check at the top of `AddTag`.\n\n## Low: Test improvements\n- Tests hardcode `\"tool-fzf\"` as toolID — use slug-based API instead\n- Unchecked `AddTag` errors in setup (lint warnings)\n- Missing edge cases: spaces in tag names, unicode, case-insensitive dedup, FK cascade behavior\n- `seedTool` returns `*Tool` that's never used (unparam lint)","status":"closed","priority":1,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T16:23:54.686103095+01:00","created_by":"Megatherium","updated_at":"2026-02-13T16:37:19.279981942+01:00","closed_at":"2026-02-13T16:37:19.279981942+01:00","close_reason":"Split into 6 separate tickets with proper dependencies","dependencies":[{"issue_id":"troveler-5lq","depends_on_id":"troveler-2qx","type":"discovered-from","created_at":"2026-02-13T16:23:54.688116812+01:00","created_by":"Megatherium"}]}
{"id":"troveler-5r2","title":"Add tag= filter to search queries","description":"Enable searching tools by their tags using tag= filter syntax.\n\n## Requirements\n1. Extend filter parser to recognize tag= as valid field\n2. Update filter_sql.go to JOIN tool_tags table\n3. Support multiple tags with AND/OR: tag=cli\u0026tag=fuzzy\n4. Support negation: !tag=experimental\n\n## Examples\n```troveler search tag=cli\ntroveler search \"tag=cli\u0026tag=fuzzy\"\ntroveler search \"(tag=cli|tag=tui)\u0026!tag=experimental\"\ntroveler search \"language=go\u0026tag=ai\"\n```\n\n## Implementation Notes\n- JOIN with tool_tags and tags tables\n- Handle NOT tag with LEFT JOIN / NOT EXISTS\n- Support combining tag filters with existing fields\n\n## Depends On\n- NOT operator ticket (for !tag= support)\n- Tags schema ticket (for DB structure)\n- Tag command ticket (for test data)\n\n## Tests\n- Parser tests for tag= syntax\n- SQL generation tests\n- Integration tests with tagged tools","status":"open","priority":2,"issue_type":"feature","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T12:48:58.56287574+01:00","created_by":"Megatherium","updated_at":"2026-02-13T12:48:58.56287574+01:00","dependencies":[{"issue_id":"troveler-5r2","depends_on_id":"troveler-2hc","type":"blocks","created_at":"2026-02-13T12:49:19.44150437+01:00","created_by":"Megatherium"},{"issue_id":"troveler-5r2","depends_on_id":"troveler-7ub","type":"blocks","created_at":"2026-02-13T12:49:19.526192389+01:00","created_by":"Megatherium"},{"issue_id":"troveler-5r2","depends_on_id":"troveler-yo9","type":"blocks","created_at":"2026-02-13T12:49:19.602984131+01:00","created_by":"Megatherium"}]}
{"id":"troveler-5t4","title":"Fix tag ID generation - normalize input","description":"AddTag builds IDs via fmt.Sprintf(\"tag-%s\", tagName) — raw user input in primary keys. Breaks with spaces, unicode, mixed case.\\n\\nNormalize input (strings.ToLower(strings.TrimSpace(tagName))) and either:\\n- (A) Drop tags.id, key by name TEXT PRIMARY KEY COLLATE NOCASE, or\\n- (B) Keep id but generate opaque IDs (hash/random), keep name UNIQUE COLLATE NOCASE\\n\\nOption A is simplest since name is already UNIQUE and all lookups use it.","status":"closed","priority":1,"issue_type":"bug","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T16:35:30.241587635+01:00","created_by":"Megatherium","updated_at":"2026-02-13T17:00:09.975062785+01:00","closed_at":"2026-02-13T17:00:09.975062785+01:00","close_reason":"Schema updated: tags.name is now TEXT PRIMARY KEY COLLATE NOCASE, tool_tags uses tag_name FK. Tag.ID field removed. All tests pass. Review passed.","dependencies":[{"issue_id":"troveler-5t4","depends_on_id":"troveler-q9i","type":"blocks","created_at":"2026-02-13T16:36:16.067753647+01:00","created_by":"Megatherium"},{"issue_id":"troveler-5t4","depends_on_id":"troveler-5lq","type":"discovered-from","created_at":"2026-02-13T16:37:11.507356283+01:00","created_by":"Megatherium"},{"issue_id":"troveler-5t4","depends_on_id":"troveler-3o4","type":"blocks","created_at":"2026-02-13T16:55:13.907824054+01:00","created_by":"Megatherium"}]}
{"id":"troveler-5ys","title":"Add JSON output format","description":"Add (for the search command) an --format option. Valid formats are pretty (default, what were currently emitting) and JSON (all results in an array would be my suggestion)","status":"closed","priority":2,"issue_type":"feature","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-12T00:07:08.12436291+01:00","created_by":"Megatherium","updated_at":"2026-02-12T00:12:14.413619115+01:00","closed_at":"2026-02-12T00:12:14.413619115+01:00","close_reason":"Implemented --format flag for search command with 'pretty' (default) and 'json' options"}
{"id":"troveler-67w","title":"Refinement: Transform eget commands","description":"Issues found in review (troveler-73y):\n\n1. Unnecessary regex in eget transformation (lines 40-46)\n   - Currently uses regex `^eget\\\\s+(.+)$` for simple prefix matching\n   - Should use strings.CutPrefix for consistency with go/cargo patterns\n\n2. Typo/formatting in go install pattern (line 12)\n   - Missing space after `:=`: `if after, ok :=strings.CutPrefix(...)`\n\n3. Missing edge case tests\n   - eget foo (single segment repo)\n   - eget foo/bar/baz (too many segments)\n   - eget foo/bar --version 1.0 (flags after repo)\n\nFixes required:\n- Replace eget regex with strings.CutPrefix + strings.Fields logic\n- Fix typo in line 12\n- Add edge case tests to test coverage","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-11T14:25:47.144024851+01:00","created_by":"Megatherium","updated_at":"2026-02-12T00:03:24.496266626+01:00","closed_at":"2026-02-12T00:03:24.496266626+01:00","close_reason":"Everything works. Reviewed by reinchecn-7lh","dependencies":[{"issue_id":"troveler-67w","depends_on_id":"troveler-73y","type":"discovered-from","created_at":"2026-02-11T14:25:55.825150776+01:00","created_by":"Megatherium"}]}
{"id":"troveler-6xx","title":"[CHORE] Fix linter errors","description":"Through the ages linter errors have accrued (probably because it wasn't explicit enough). \n## Task Description\nFix everthing until golintci-lint is in a Zen state, free of errors.\n## Why is this needed?\nThese small defects can sometimes bite you in the ass\n## Scope\nComplete codebase\n## Acceptance Criteria\n- [ ] `golangci-lint` returns \"0 issues.\"","status":"in_progress","priority":3,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T13:42:18.703416541+01:00","created_by":"Megatherium","updated_at":"2026-02-13T14:16:00.588785242+01:00"}
{"id":"troveler-73y","title":"Review: Transform eget commands","description":"Review the implementation of eget to mise transformation in internal/install/mise.go. Changes include:\\n- Added eget transformation logic to TransformToMise function\\n- Added 4 test cases covering basic, with github prefix, with extra flags, and with whitespace\\n- All tests pass\\n\\nCheck for:\\n- Code quality and maintainability\\n- Proper regex handling for edge cases\\n- Test coverage adequacy\\n- Following existing patterns in the codebase","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-11T11:04:41.472151031+01:00","created_by":"Megatherium","updated_at":"2026-02-11T14:26:01.991046384+01:00","closed_at":"2026-02-11T14:26:01.991046384+01:00","close_reason":"Review completed - found issues requiring refinement (troveler-67w)"}
{"id":"troveler-7lh","title":"Review: Show virtuals in install command","description":"Review implementation of virtual install instructions and related bug fixes. This review covers changes from tickets: troveler-bdt, troveler-dhg, and troveler-iwv.\n\nChanges include:\n\n**Ticket troveler-bdt: Virtual install instructions generation**\n1. Added GenerateVirtualInstallInstructions() in internal/install/commands.go\n2. Updated showAllInstalls() in commands/install.go to show virtuals\n3. Updated runInfo() in commands/info.go to show virtuals\n4. Updated SetTool() in tui/panels/install.go to show virtuals\n5. Added comprehensive tests in internal/install/install_test.go\n\nKey implementation details:\n- Generates mise: platforms (mise:go, mise:cargo, mise:npm, mise:pipx, mise:github)\n- Handles duplicates (npm/yarn/pnpm → single mise:npm)\n- Skips existing mise:* platforms\n- Returns results in deterministic order\n\n**Ticket troveler-dhg: CLI override priority over mise mode**\n1. commands/install.go: Only force cliOverride='LANG' when mise enabled AND no CLI override provided\n2. tui/panels/install.go: Same fix for TUI panel\n3. Added comprehensive tests in commands/override_test.go\n\nFixed: CLI parameters now have higher priority than config settings.\n\n**Ticket troveler-iwv: Virtual platform override handling**\n1. commands/install.go: Added ResolveVirtualPlatform() to map mise:* → source platform\n2. Updated override logic to resolve virtual platforms before matching\n3. commands/install_test.go: Added tests for virtual platform resolution\n4. tui/panels/install.go: Added resolveVirtualPlatform() method for TUI panel\n\nFixed: -o mise:github, -o mise:go, -o mise:cargo now work correctly.\n\nAll changes:\n- No new linting issues\n- All existing tests pass\n- All new tests added and passing\n\nPlease assess code quality, maintainability, and patterns. Score 0.0-10.0.","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-11T14:54:31.974638238+01:00","created_by":"Megatherium","updated_at":"2026-02-11T15:44:39.480974696+01:00","closed_at":"2026-02-11T15:44:39.480974696+01:00","close_reason":"Review complete - Score 8.5/10. Code quality is solid with comprehensive test coverage. Minor stylistic notes: TUI panel override resolution order differs from CLI version, and TransformToMise has no dedicated tests. However, functional correctness is verified by integration tests. No refinement required."}
{"id":"troveler-7ub","title":"Add tags database schema (many-to-many)","description":"Create database tables for user-curated tool tags.\n\n## Schema Design\n```sql\nCREATE TABLE tags (\n    id TEXT PRIMARY KEY,\n    name TEXT UNIQUE NOT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE TABLE tool_tags (\n    tool_id TEXT REFERENCES tools(id) ON DELETE CASCADE,\n    tag_id TEXT REFERENCES tags(id) ON DELETE CASCADE,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    PRIMARY KEY (tool_id, tag_id)\n);\n\nCREATE INDEX idx_tool_tags_tag_id ON tool_tags(tag_id);\n```\n\n## Implementation\n1. Add tables in db/sqlite.go:createTables()\n2. Add DB methods:\n   - GetTags(toolID) []string\n   - GetAllTags() []Tag (for autocomplete/listing)\n   - AddTag(slug, tagName) error\n   - RemoveTag(slug, tagName) error\n   - ClearTags(slug) error\n   - GetToolsByTag(tagName) []Tool\n\n## Notes\n- Tags are user-curated, NOT scraped from terminaltrove.com\n- Can drop existing DB for clean migration\n- Tests for all DB operations","status":"closed","priority":1,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T12:48:45.158007608+01:00","created_by":"Megatherium","updated_at":"2026-02-13T16:16:27.117209289+01:00","closed_at":"2026-02-13T16:16:27.117209289+01:00","close_reason":"Added tags schema: tags and tool_tags tables, Tag/TagCount models, and DB methods (GetTags, GetAllTags, AddTag, RemoveTag, ClearTags, GetToolsByTag). All tests pass.","dependencies":[{"issue_id":"troveler-7ub","depends_on_id":"troveler-2qx","type":"blocks","created_at":"2026-02-13T16:18:43.00075711+01:00","created_by":"Megatherium"}]}
{"id":"troveler-8li","title":"Preserve user tags during troveler update","description":"Ensure user-curated tags survive database updates from terminaltrove.com.\n\n## Problem\nThe update command upserts tools and may change internal IDs. User tags must be preserved.\n\n## Solution\n1. Before update: snapshot all tool_tags (by slug, since slug is stable)\n2. After upsert: re-apply tags to tools using slug matching\n3. Handle tools that no longer exist in remote (keep orphan tags? or clean up?)\n\n## Implementation\n- Modify commands/update.go to wrap DB writes with tag preservation\n- Store map[slug][]tag before update starts\n- After all tools upserted, re-apply tags\n\n## Edge Cases\n- Tool removed from terminaltrove.com: tags stay in DB (orphan cleanup optional)\n- Slug renamed: tags lost (acceptable, user can re-tag)\n- Tag deleted but tool_tags reference exists: foreign key cascade\n\n## Tests\n- Add tags to tools, run update, verify tags still present\n- Test with tools added/removed from mock data","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T12:49:05.819223889+01:00","created_by":"Megatherium","updated_at":"2026-02-13T17:54:21.750654738+01:00","closed_at":"2026-02-13T17:54:21.750654738+01:00","close_reason":"Implementation complete. Tags are preserved during updates via GetAllTagsBySlug/ReapplyTags pattern. All tests pass.","dependencies":[{"issue_id":"troveler-8li","depends_on_id":"troveler-7ub","type":"blocks","created_at":"2026-02-13T12:49:19.679949108+01:00","created_by":"Megatherium"},{"issue_id":"troveler-8li","depends_on_id":"troveler-5lq","type":"blocks","created_at":"2026-02-13T16:31:52.365752355+01:00","created_by":"Megatherium"},{"issue_id":"troveler-8li","depends_on_id":"troveler-q9i","type":"blocks","created_at":"2026-02-13T16:37:02.445768832+01:00","created_by":"Megatherium"},{"issue_id":"troveler-8li","depends_on_id":"troveler-riq","type":"blocks","created_at":"2026-02-13T16:37:02.527528565+01:00","created_by":"Megatherium"},{"issue_id":"troveler-8li","depends_on_id":"troveler-o39","type":"blocks","created_at":"2026-02-13T17:52:08.60382472+01:00","created_by":"Megatherium"}]}
{"id":"troveler-9xr","title":"[BUG] Too thin TUI crashes","description":"If the TUI has less than 132 columns of width the program will panic (see panic.log)\n## Steps to Reproduce\n1. Start troveler tui with less than 132 columns or reduce the number of columns to lower than 132 when the tui is running\n## Expected Behavior\nGood question. Until we have an idea how to cope (scrollable windows, resized columns, etc) we just need to prevent that our app offs itself by sudoku.","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T01:52:28.634428683+01:00","created_by":"Megatherium","updated_at":"2026-02-13T02:07:20.76044583+01:00","closed_at":"2026-02-13T02:07:20.76044583+01:00","close_reason":"Fixed - TUI now gracefully handles narrow terminals with clear error messages instead of panicking","dependencies":[{"issue_id":"troveler-9xr","depends_on_id":"troveler-nzd","type":"blocks","created_at":"2026-02-13T02:05:44.288127319+01:00","created_by":"Megatherium"}]}
{"id":"troveler-bdt","title":"Show virtuals in install command and prefix them accordingly","description":"Currently we only show what we've parsed from the TT entry in terms of install methods.\nBut we have install platforms/methods that are derived from the original data e.g. mise go:, mise cargo: but now also mise github (from eget)\nThe table in the install command should be a union of parsed and generated commands. The platform names for the mise method are simply mise:$backend, so mise:cargo, mise:npm, mise:pipx (even if we're using uv under the hood) and mise:github (even though it's parsed from eget)\nSplit this ticket if more efficient / necessary","status":"deferred","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-11T14:21:03.234560855+01:00","created_by":"Megatherium","updated_at":"2026-02-13T12:09:40.745242128+01:00","defer_until":"2026-02-17T12:09:40+01:00","dependencies":[{"issue_id":"troveler-bdt","depends_on_id":"troveler-7lh","type":"blocks","created_at":"2026-02-11T14:54:47.935387377+01:00","created_by":"Megatherium"}]}
{"id":"troveler-ctr","title":"Transform eget commands","description":"There are occasions where you encounter no useful installation method but at least an eget command.\nTurns out eget just pulls a release from github. We can do the same thing with mise with the github backend.\neget foo/bar\nis the same as\nmise use --global github:foo/bar\nSo if there's an eget command you can offer a virtual mise command (which is a mise fallback if we don't have a specific language command)","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-11T10:58:12.709443396+01:00","created_by":"Megatherium","updated_at":"2026-02-11T14:29:37.449368498+01:00","closed_at":"2026-02-11T14:29:37.449368498+01:00","close_reason":"Refinement complete - fixed typo, replaced regex with strings.CutPrefix, added edge case tests","dependencies":[{"issue_id":"troveler-ctr","depends_on_id":"troveler-73y","type":"blocks","created_at":"2026-02-11T11:04:48.412169308+01:00","created_by":"Megatherium"}]}
{"id":"troveler-dhg","title":"Fix: CLI override should have higher priority than mise mode","description":"When mise_mode is enabled (from config or --mise flag), the CLI --override flag should still be respected. Currently, if mise mode is on, any -o flag is ignored because cliOverride is forced to 'LANG' before checking the CLI value.\n\nFix: Only force cliOverride='LANG' when mise mode is enabled AND no CLI override was provided by the user. CLI parameters should have higher priority than config settings.","status":"closed","priority":1,"issue_type":"bug","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-11T15:11:31.484614584+01:00","created_by":"Megatherium","updated_at":"2026-02-11T15:18:38.915703808+01:00","closed_at":"2026-02-11T15:18:38.915703808+01:00","close_reason":"Fixed CLI override priority issue. When mise mode is enabled (via --mise flag or config), CLI --override flag now properly overrides the LANG behavior. \n\nChanges:\n- commands/install.go: Only force cliOverride='LANG' when mise enabled AND no CLI override provided\n- tui/panels/install.go: Same fix for TUI panel\n- Added comprehensive tests in commands/override_test.go\n\nCLI parameters now have higher priority than config settings as intended."}
{"id":"troveler-dyg","title":"Fix all golangci-lint issues (0 issues acceptance)","description":"Fix all 154 golangci-lint issues including errcheck, goconst, gocyclo, gofmt, goimports, gosec, ineffassign, lll, nlreturn, noctx, revive, staticcheck, unparam, unused, whitespace. Critical acceptance: golangci-lint run must return 0 issues.","status":"in_progress","priority":1,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T14:16:39.485558083+01:00","created_by":"Megatherium","updated_at":"2026-02-13T14:16:48.181645918+01:00"}
{"id":"troveler-ftp","title":"Validate/normalize tag names on input","description":"No trimming or normalization — \"cli\", \" cli \", \"CLI\" become 3 separate tags. Add strings.ToLower(strings.TrimSpace(...)) + empty check at the top of AddTag.","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T16:35:38.481293721+01:00","created_by":"Megatherium","updated_at":"2026-02-13T17:17:28.419014934+01:00","closed_at":"2026-02-13T17:17:28.419014934+01:00","close_reason":"Added normalizeTagName helper with ToLower+TrimSpace+empty check. Applied to AddTag, RemoveTag, GetToolsByTag. Added 8 tests covering empty, whitespace, case variations.","dependencies":[{"issue_id":"troveler-ftp","depends_on_id":"troveler-5t4","type":"blocks","created_at":"2026-02-13T16:36:16.307486071+01:00","created_by":"Megatherium"},{"issue_id":"troveler-ftp","depends_on_id":"troveler-5lq","type":"discovered-from","created_at":"2026-02-13T16:37:11.733420188+01:00","created_by":"Megatherium"}]}
{"id":"troveler-iwv","title":"Fix: Override should handle virtual mise:* platforms","description":"When using --override with virtual platforms like mise:github or mise:go, the command selection fails because it only looks for raw platforms.\n\nVirtual platforms are generated for display but the override matching logic doesn't know how to resolve them back to their source platforms (mise:github → github, mise:go → go).\n\nFix: Add virtual platform resolution in override logic to map mise:* platforms back to their source platforms before matching.","status":"closed","priority":1,"issue_type":"bug","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-11T15:34:14.502202863+01:00","created_by":"Megatherium","updated_at":"2026-02-11T15:40:09.250528514+01:00","closed_at":"2026-02-11T15:40:09.250528514+01:00","close_reason":"Fixed virtual platform override handling. Added ResolveVirtualPlatform() to map mise:* platforms back to their source platforms (mise:github → github, mise:go → go, etc.).\n\nChanges:\n- commands/install.go: Added ResolveVirtualPlatform() and updated override logic\n- commands/install_test.go: Added comprehensive tests for virtual platform resolution\n- tui/panels/install.go: Added resolveVirtualPlatform() method for TUI panel\n\nNow -o mise:github, -o mise:go, -o mise:cargo all work correctly."}
{"id":"troveler-jhw","title":"Review: Improve tag test coverage","status":"closed","priority":3,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T18:00:41.912495587+01:00","created_by":"Megatherium","updated_at":"2026-02-13T18:28:25.241937635+01:00","closed_at":"2026-02-13T18:28:25.241937635+01:00","close_reason":"Complete"}
{"id":"troveler-k25","title":"Prune orphaned tags after unlink","description":"RemoveTag and ClearTags delete from tool_tags but leave the tags row. GetAllTags will surface dead tags with count=0.\\n\\nEither:\\n- Prune after unlink: DELETE FROM tags WHERE id NOT IN (SELECT DISTINCT tag_id FROM tool_tags)\\n- Or document it as intentional (global vocabulary)","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T16:35:36.194064804+01:00","created_by":"Megatherium","updated_at":"2026-02-13T17:24:17.738964526+01:00","closed_at":"2026-02-13T17:24:17.738964526+01:00","close_reason":"Added pruneOrphanedTags helper called from RemoveTag and ClearTags after successful deletes. Added 3 tests for pruning behavior.","dependencies":[{"issue_id":"troveler-k25","depends_on_id":"troveler-q9i","type":"blocks","created_at":"2026-02-13T16:36:16.230244734+01:00","created_by":"Megatherium"},{"issue_id":"troveler-k25","depends_on_id":"troveler-5lq","type":"discovered-from","created_at":"2026-02-13T16:37:11.659297942+01:00","created_by":"Megatherium"}]}
{"id":"troveler-nzd","title":"Review: Fix TUI panic on narrow terminals","description":"Review the fix for troveler-9xr that prevents TUI panic when terminal width \u003c 132 columns.\n\nChanges:\n- tui/panels/tools.go: Added minimum width check and bounded taglineWidth calculation\n- tui/panels/search.go: Added defensive width check for input field\n- tui/view.go: Added minimum terminal size checks (80x20)\n- Added tests for narrow terminal handling\n\nVerify:\n- Width calculations are properly bounded\n- Error messages are clear and helpful\n- No regressions in normal-width terminals\n- Code is maintainable and follows project patterns","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T02:04:57.190987824+01:00","created_by":"Megatherium","updated_at":"2026-02-13T02:07:17.470948833+01:00","closed_at":"2026-02-13T02:07:17.470948833+01:00","close_reason":"Review complete - fix properly handles narrow terminals with clear error messages and no regressions"}
{"id":"troveler-o39","title":"Review: Preserve user tags during troveler update","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T17:52:03.465255229+01:00","created_by":"Megatherium","updated_at":"2026-02-13T17:54:21.186564377+01:00","closed_at":"2026-02-13T17:54:21.186564377+01:00","close_reason":"Review complete - Score 8.5/10. Clean implementation with proper concurrency handling, good test coverage, and correct edge case handling. No refinement required."}
{"id":"troveler-q9i","title":"Enable SQLite foreign key enforcement","description":"SQLite does NOT enforce foreign keys by default. ON DELETE CASCADE in tool_tags is a no-op right now. Add to New():\\n\\n```go\\ndb.SetMaxOpenConns(1)\\ndb.Exec(\"PRAGMA foreign_keys = ON\")\\n```\\n\\nThis directly affects tag preservation during updates — cascades won't fire without it.","status":"closed","priority":0,"issue_type":"bug","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T16:35:24.632140412+01:00","created_by":"Megatherium","updated_at":"2026-02-13T16:41:30.859577221+01:00","closed_at":"2026-02-13T16:41:30.859577221+01:00","close_reason":"Enabled FK enforcement in New() with SetMaxOpenConns(1) + PRAGMA foreign_keys = ON. Added TestForeignKeyCascade.","dependencies":[{"issue_id":"troveler-q9i","depends_on_id":"troveler-5lq","type":"discovered-from","created_at":"2026-02-13T16:37:11.427237458+01:00","created_by":"Megatherium"}]}
{"id":"troveler-riq","title":"Fix tag API asymmetry - slug vs toolID","description":"- AddTag/RemoveTag/ClearTags accept slug\\n- GetTags accepts toolID\\n\\nThis leaks internals — callers (and tests) must know ID construction. Add GetTagsBySlug(slug) or change GetTags to accept slug. All tag APIs should use the same key.","status":"closed","priority":1,"issue_type":"bug","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T16:35:33.303660886+01:00","created_by":"Megatherium","updated_at":"2026-02-13T17:06:24.221640729+01:00","closed_at":"2026-02-13T17:06:24.221640729+01:00","close_reason":"Changed GetTags to accept slug instead of toolID, matching AddTag/RemoveTag/ClearTags API. Updated tests to use slug consistently.","dependencies":[{"issue_id":"troveler-riq","depends_on_id":"troveler-q9i","type":"blocks","created_at":"2026-02-13T16:36:16.153754185+01:00","created_by":"Megatherium"},{"issue_id":"troveler-riq","depends_on_id":"troveler-5lq","type":"discovered-from","created_at":"2026-02-13T16:37:11.585265513+01:00","created_by":"Megatherium"}]}
{"id":"troveler-yo9","title":"Implement tag command with CRUD subcommands","description":"Add troveler tag command for managing user-curated tags on tools.\n\n## Subcommands\n```\ntroveler tag add \u003cslug\u003e \u003ctag\u003e      # Add tag to tool\ntroveler tag remove \u003cslug\u003e \u003ctag\u003e   # Remove tag from tool\ntroveler tag list [slug]           # List all tags (or tags for specific tool)\ntroveler tag clear \u003cslug\u003e          # Remove all tags from tool\n```\n\n## Examples\n```troveler tag add fzf fuzzy\ntroveler tag add fzf cli\ntroveler tag list fzf    # Output: fuzzy, cli\ntroveler tag list        # Output: all tags with counts\ntroveler tag remove fzf cli\ntroveler tag clear fzf\n```\n\n## Implementation\n1. Create commands/tag.go with Cobra subcommands\n2. Wire up to db methods from schema ticket\n3. Output formatting (plain text, JSON with --json flag)\n4. Error handling for non-existent tools/tags\n\n## Tests\n- Unit tests for each subcommand\n- Error cases (tool not found, tag not found, duplicate tag)","status":"closed","priority":2,"issue_type":"feature","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-13T12:48:52.193576673+01:00","created_by":"Megatherium","updated_at":"2026-02-13T17:36:07.279112028+01:00","closed_at":"2026-02-13T17:36:07.279112028+01:00","close_reason":"Implemented tag command with add/remove/list/clear subcommands. Added --json flag for list output. Unit tests cover all subcommands and error cases.","dependencies":[{"issue_id":"troveler-yo9","depends_on_id":"troveler-5lq","type":"blocks","created_at":"2026-02-13T16:31:27.96659956+01:00","created_by":"Megatherium"},{"issue_id":"troveler-yo9","depends_on_id":"troveler-q9i","type":"blocks","created_at":"2026-02-13T16:37:02.6054245+01:00","created_by":"Megatherium"},{"issue_id":"troveler-yo9","depends_on_id":"troveler-5t4","type":"blocks","created_at":"2026-02-13T16:37:02.68079589+01:00","created_by":"Megatherium"},{"issue_id":"troveler-yo9","depends_on_id":"troveler-riq","type":"blocks","created_at":"2026-02-13T16:37:02.758260556+01:00","created_by":"Megatherium"}]}
